(this["webpackJsonpmy-social-net"]=this["webpackJsonpmy-social-net"]||[]).push([[0],{116:function(e,t,a){e.exports={side:"Posts_side__1SvJt",posts:"Posts_posts__3ajs4"}},117:function(e,t,a){e.exports={post:"Post_post__1PTCp",likes:"Post_likes__BN6yF",avatar:"Post_avatar__14uei"}},120:function(e,t,a){e.exports={headline:"Messages_headline__2jSMC",messages:"Messages_messages__2W8Ev",dialogs:"Messages_dialogs__1EU1k",allMessages:"Messages_allMessages__1EDcC",chatInput:"Messages_chatInput__2VqdS"}},121:function(e,t,a){e.exports={person:"DialogWithPerson_person__3quXZ",avatar:"DialogWithPerson_avatar__1pAhJ",active:"DialogWithPerson_active__3X5y0"}},158:function(e,t,a){e.exports={error:"formsControls_error__fUQMw"}},159:function(e,t,a){e.exports={inputText:"AddNewText_inputText__2KzqH",inputSubmit:"AddNewText_inputSubmit__1D2ZC"}},166:function(e,t,a){e.exports={allMessages:"DialogueWindow_allMessages__168EW"}},167:function(e,t,a){e.exports={friendsList:"FriendList_friendsList__sErCK",friendsWindow:"FriendList_friendsWindow__3KOIJ"}},168:function(e,t,a){e.exports={wrapper:"Friend_wrapper__25kAa",avatar:"Friend_avatar__Lfhau"}},250:function(e,t,a){e.exports={main:"Profile_main__26XCL"}},251:function(e,t,a){e.exports=a.p+"static/media/load-final.bb4fdd52.gif"},252:function(e,t,a){e.exports={loadLogo:"loading_loadLogo__-2nSU"}},262:function(e,t,a){e.exports={error:"Login_error__3CGr5"}},289:function(e,t,a){e.exports=a(702)},293:function(e,t,a){},294:function(e,t,a){},34:function(e,t,a){e.exports={image:"ProfileInfo_image__18mIc",user:"ProfileInfo_user__1u2-j",userAvatarAndFollow:"ProfileInfo_userAvatarAndFollow__XF-r4",bottom:"ProfileInfo_bottom__JpCgh",avatar:"ProfileInfo_avatar__1wWkI",info:"ProfileInfo_info__1MNss",social:"ProfileInfo_social__2FSKQ",statusEditOff:"ProfileInfo_statusEditOff__jg_CX",statusAllUsers:"ProfileInfo_statusAllUsers__3s7zG",statusEditOn:"ProfileInfo_statusEditOn__2r70j"}},41:function(e,t,a){e.exports={leftMenu:"LeftMenu_leftMenu__2GSGv",menu:"LeftMenu_menu__3N44Q",active:"LeftMenu_active__3hp3z"}},53:function(e,t,a){e.exports={users:"Users_users__2NNoa",tittle:"Users_tittle__31R-H",button:"Users_button__2eOt7",paginationContainer:"Users_paginationContainer__3JS-Q",pagination:"Users_pagination__3Vp00",select:"Users_select__3PoBu",activePage:"Users_activePage__QLk_L"}},61:function(e,t,a){e.exports={user:"User_user__2Oact",user_logo:"User_user_logo__13RCD",avatar:"User_avatar__3OW2G",buttonFollow:"User_buttonFollow__2AWEQ",buttonUnfollow:"User_buttonUnfollow__1ery8",user_info:"User_user_info__2f5qM",name:"User_name__2v59S",city:"User_city__Mbi_o",country:"User_country__mhr_u",status:"User_status__2bfZB",active:"User_active__CimQk"}},684:function(e,t){},685:function(e,t){},686:function(e,t){},69:function(e,t,a){e.exports=a.p+"static/media/empty-avatar.8cb04c92.png"},702:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),o=a(28),l=a.n(o),i=(a(293),a(47)),c=a(48),u=a(51),m=a(50),f=a(13),p=(a(294),a(12)),d=a(250),g=a.n(d),E=a(113),_=a(251),v=a.n(_),b=a(252),h=a.n(b),w=function(){return s.a.createElement("img",Object(E.a)({src:v.a,alt:"",className:h.a.loadLogo},"alt",""))},O=a(34),S=a.n(O),j=a(69),N=a.n(j),U=a(90),P=a.n(U),y=function(e,t,a,n,r){var o;return"ONE_USER"==e?o=n:"ALL_USER"==e&&(o=n.some((function(e){return e==r}))),1==a?s.a.createElement("button",{onClick:t,className:o?P.a.disable:P.a.buttonUnfollow,disabled:o},o?"wait...":"unfollow"):s.a.createElement("button",{onClick:t,className:o?P.a.disable:P.a.buttonFollow,disabled:o},o?"wait...":"follow")},x=a(169),I=function(e){var t=Object(r.useState)(!1),a=Object(x.a)(t,2),n=a[0],o=a[1],l=Object(r.useState)(e.status),i=Object(x.a)(l,2),c=i[0],u=i[1],m=function(t){o(!1),c!==e.status&&(e.getUpdateSatus(c),e.getUserStatus(e.authId))};return Object(r.useEffect)((function(){u(e.status)}),[e.status]),s.a.createElement("div",null,e.userId==e.authId?s.a.createElement("div",null,1==n?s.a.createElement("div",{className:S.a.statusEditOn},s.a.createElement("input",{onChange:function(t){t.target.value.match(/^[ ]+$/)||""==t.target.value?u(e.status):u(t.target.value)},placeholder:"max-60 symbol",maxLength:60,autoFocus:!0,type:"text",onBlur:m}),s.a.createElement("button",{onClick:m},s.a.createElement("i",{className:"fas fa-arrow-circle-right"}))):s.a.createElement("div",{className:S.a.statusEditOff},s.a.createElement("span",{onClick:function(){o(!0)}}," ",c||"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u0443\u0441\u0442"))):s.a.createElement("div",{className:S.a.statusAllUsers},s.a.createElement("span",null," ",c||"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u0443\u0441\u0442")))},k=function(e){if(!e.profile)return s.a.createElement(w,null);return s.a.createElement("div",null,s.a.createElement("img",{src:"http://dgdesign.ru/uploads/posts/2018-05/1525700405_shapka-sayta-tehnologii-2114654127851.jpg",className:S.a.image}),s.a.createElement("div",{className:S.a.user},s.a.createElement("div",{className:S.a.userAvatarAndFollow},s.a.createElement("img",{src:e.profile.photos.large||N.a,className:S.a.avatar}),e.profile.userId!==e.authId?y("ONE_USER",(function(){console.log(e.followed),e.togglefollowUser(e.profile.userId,e.followed)}),e.followed,e.isProgress,e.id):null),s.a.createElement("div",{className:S.a.info},s.a.createElement("h4",null,e.profile.fullName),s.a.createElement("p",null,s.a.createElement(I,{status:e.status,getUpdateSatus:e.getUpdateSatus,getUserStatus:e.getUserStatus,authId:e.authId,userId:e.profile.userId})),s.a.createElement("p",null,s.a.createElement("span",null,"Date of Birth: "),"12.08.1994 g."),s.a.createElement("p",null,s.a.createElement("span",null,"City: "),"Belogorod"),s.a.createElement("p",null,s.a.createElement("span",null,"Education: "),"Belgorod economic university"),s.a.createElement("p",null,s.a.createElement("span",null,"tel.: "),"8-800-555-35-35"),s.a.createElement("p",null,s.a.createElement("span",null,"About me:")," ",e.profile.aboutMe),s.a.createElement("div",{className:S.a.social},s.a.createElement("a",{href:e.profile.contacts.vk},s.a.createElement("i",{class:"fab fa-vk"})),s.a.createElement("a",{href:e.profile.contacts.instagram},s.a.createElement("i",{class:"fab fa-instagram"})),s.a.createElement("a",{href:e.profile.contacts.facebook},s.a.createElement("i",{class:"fab fa-facebook-square"}))))))},C=a(116),A=a.n(C),L=a(117),F=a.n(L),M=function(e){return e.profile?s.a.createElement("div",{className:F.a.post},s.a.createElement("img",{src:e.profile.photos.small||N.a,className:F.a.avatar}),s.a.createElement("p",null,e.text),s.a.createElement("i",{onClick:function(){var t=e;e.addLike(t)},className:"far fa-heart"}),s.a.createElement("span",{className:F.a.likes},e.likes)):s.a.createElement(w,null)},T=a(246),D=function(e){if(!e)return"This field cannot be empty"},R=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}},G=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0},W=a(170),z=a(158),H=a.n(z),B=function(e){var t=e.input,a=e.meta,n=a.touched,r=a.error,o=(a.warning,Object(W.a)(e,["input","meta"]));return s.a.createElement("div",{className:n&&r&&H.a.error},s.a.createElement("textarea",Object.assign({},t,o)),n&&r&&s.a.createElement("span",null,r))},K=function(e){var t=e.input,a=e.type,n=e.meta,r=n.touched,o=n.error,l=(n.warning,Object(W.a)(e,["input","type","meta"]));return s.a.createElement("div",{className:r&&o&&H.a.error},s.a.createElement("input",Object.assign({},t,{type:a},l)),r&&o&&s.a.createElement("span",null,o))},Q=a(159),Z=a.n(Q),J=R(100),q=R(200),X=function(e){return s.a.createElement("form",{onSubmit:e.handleSubmit},s.a.createElement("div",null,s.a.createElement(T.a,{className:Z.a.inputText,name:e.name,component:B,type:"text",placeholder:e.placeholder,validate:function(){switch(e.name){case"newPost":return[q];case"newMessage":return[J]}}()})),s.a.createElement("div",null,s.a.createElement("button",{className:Z.a.inputSubmit,disabled:e.pristine||e.submitting||e.invalid},"Send")))},V=a(247),$=s.a.memo((function(e){var t=Object(V.a)({form:"newPost"})(X),a=e.postsData.map((function(t){return s.a.createElement(M,{key:t.id,text:t.text,likes:t.likes,addLike:e.addLike,profile:e.profile})}));return console.log("RENDER POSTS"),s.a.createElement("div",{className:A.a.side},s.a.createElement("div",{className:A.a.createPost},s.a.createElement("h3",null," My posts"),s.a.createElement(t,{onSubmit:function(t){e.addPost(t.newPost)},name:"newPost",placeholder:"send new post"})),s.a.createElement("div",{className:A.a.posts},a))})),Y=a(8),ee=a.n(Y),te=a(14),ae=a(115),ne=a(74),re=a(5),se=a(254),oe=a.n(se).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"1f53d161-bcd3-47d8-8414-bda7e59dbf15"}}),le=function(){var e=Object(te.a)(ee.a.mark((function e(t,a){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.get("users?count=".concat(t,"&page=").concat(a));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.get("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.get("profile/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.get("follow/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(e,t){return t?oe.delete("/follow/".concat(e)):oe.post("follow/".concat(e))},fe=function(e){return oe.get("/profile/status/".concat(e))},pe=function(e){return oe.put("/profile/status",{status:e})},de=function(e){return oe.post("/auth/login",e)},ge=function(e){return{type:"SET_USER_PROFILE",userProfile:e}},Ee=function(e){return{type:"SET_FOLLOWED_USER",followed:e}},_e=function(e){return{type:"FOLLOWING_IN_PROGRESS",value:e}},ve={posts:[{id:1,text:"Hello! How are you?",likes:3,likeClick:0},{id:2,text:"My name is Kirill!",likes:8,likeClick:0},{id:3,text:"Good life",likes:5,likeClick:0}],profile:null,followed:null,followingInProgress:!1,status:""},be=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_USER_PROFILE":return e=Object(re.a)(Object(re.a)({},t),{},{profile:a.userProfile});case"ADD-POST":var n=(e=Object(re.a)(Object(re.a)({},t),{},{posts:Object(ne.a)(t.posts)})).posts.length+1,r=0,s={id:n,text:a.newText,likes:r,likeClick:0};return e.posts.push(s),e;case"ADD-LIKE":console.log(a.clickPost.text),e=Object(re.a)(Object(re.a)({},t),{},{posts:Object(ne.a)(t.posts)});var o,l=Object(ae.a)(e.posts);try{for(l.s();!(o=l.n()).done;){var i=o.value;i.text==a.clickPost.text&&(0==i.likeClick?(i.likes+=1,i.likeClick=1):(i.likes-=1,i.likeClick=0))}}catch(c){l.e(c)}finally{l.f()}return e;case"SET_FOLLOWED_USER":return e=Object(re.a)(Object(re.a)({},t),{},{followed:a.followed});case"FOLLOWING_IN_PROGRESS":return e=Object(re.a)(Object(re.a)({},t),{},{followingInProgress:a.value});case"SET_STATUS":return e=Object(re.a)(Object(re.a)({},t),{},{status:a.status});default:return t}},he=Object(p.b)((function(e){return{postsData:e.profilePage.posts,profile:e.profilePage.profile}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newText:e}}(t))},addLike:function(t){e({type:"ADD-LIKE",clickPost:t})}}}))((function(e){return s.a.createElement($,e)})),we=function(e){return console.log("RENDER PROFILE"),s.a.createElement("div",{className:g.a.main},s.a.createElement(k,{profile:e.profile,followed:e.followed,setFollowedUser:e.setFollowedUser,isProgress:e.isProgress,followingInProgress:e.followingInProgress,status:e.status,getUpdateSatus:e.getUpdateSatus,getUserStatus:e.getUserStatus,authId:e.authId,togglefollowUser:e.togglefollowUser}),s.a.createElement(he,null))},Oe=a(10),Se=function(e){return Object(p.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){return!1===t.isAuth?s.a.createElement(f.a,{to:"/login"}):s.a.createElement(e,t)}))},je={setUserProfile:ge,setFollowedUser:Ee,followingInProgress:_e,setProfile:function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(a){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(e);case 2:void 0!=(n=t.sent)&&a(ge(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getFollowUser:function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(a){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue(e);case 2:n=t.sent,a(Ee(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(a){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe(e);case 2:200===(n=t.sent).status&&a({type:"SET_STATUS",status:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUpdateSatus:function(e){return Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:pe(e);case 1:case"end":return t.stop()}}),t)})))},togglefollowUser:function(e,t){return function(){var a=Object(te.a)(ee.a.mark((function a(n){return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(_e(!0)),a.next=4,me(e,t);case 4:200===a.sent.status&&(n(Ee(!t)),n(_e(!1)));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},Ne=Object(Oe.d)(Object(p.b)((function(e){return{profile:e.profilePage.profile,followed:e.profilePage.followed,isProgress:e.profilePage.followingInProgress,status:e.profilePage.status,authId:e.auth.id}}),je),Se,f.f)((function(e){return Object(r.useEffect)((function(){var t=e.match.params.userId;t||(t=e.authId),e.setProfile(t),e.getFollowUser(t),e.getUserStatus(t)}),[]),s.a.createElement(we,{profile:e.profile,followed:e.followed,setFollowedUser:e.setFollowedUser,isProgress:e.isProgress,followingInProgress:e.followingInProgress,status:e.status,getUpdateSatus:e.getUpdateSatus,getUserStatus:e.getUserStatus,authId:e.authId,togglefollowUser:e.togglefollowUser})})),Ue=a(53),Pe=a.n(Ue),ye=a(11),xe=a(61),Ie=a.n(xe),ke=function(e){return s.a.createElement("div",{className:Ie.a.user},s.a.createElement("div",{className:Ie.a.user_logo},s.a.createElement(ye.b,{to:"/profile/".concat(e.id)},s.a.createElement("img",{src:e.avatar,alt:"",className:Ie.a.avatar})),y("ALL_USER",(function(){e.togglefollowUser(e.id,e.followed)}),e.followed,e.isProgress,e.id)),s.a.createElement("div",{className:Ie.a.user_info},s.a.createElement("p",{className:Ie.a.name},e.name),s.a.createElement("p",{className:Ie.a.status},e.status)))},Ce=a(255),Ae=a.n(Ce),Le=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),a=[],n=1;n<=t;n++)a.push(n);var r=e.users.map((function(t){return s.a.createElement(ke,{name:t.name,key:t.id,id:t.id,followed:t.followed,avatar:t.photos.small||N.a,status:t.status,addFriend:e.addFriend,isProgress:e.isProgress,togglefollowUser:e.togglefollowUser})}));return s.a.createElement("div",{className:Pe.a.users},s.a.createElement("h3",{className:Pe.a.tittle},"Users"),s.a.createElement("div",{className:Pe.a.paginationContainer},e.isFetching?s.a.createElement(w,null):null,s.a.createElement("div",{className:Pe.a.commentBox},s.a.createElement(Ae.a,{previousLabel:s.a.createElement("i",{className:"fas fa-angle-double-left"}),nextLabel:s.a.createElement("i",{className:"fas fa-angle-double-right"}),breakLabel:"...",breakClassName:"break-me",pageCount:t,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:function(t){e.getActivePage(t.selected+1)},containerClassName:Pe.a.pagination,subContainerClassName:"pages pagination",activeClassName:Pe.a.activePage})),s.a.createElement("div",{class:"lds-hourglass"}),s.a.createElement("select",{className:Pe.a.select,onChange:function(t){e.setCountUsers(t.target.value)}},s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"25"},"25"),s.a.createElement("option",{value:"50"},"50"))),r)},Fe=function(e,t){return{type:"TOGGLE_FOLLOW",id:e,followed:t}},Me=function(e){return{type:"SET_COUNT_USERS",count:e}},Te=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},De=function(e,t){return{type:"FOLLOWING_IN_PROGRESS",id:e,value:t}},Re={users:[],pageSize:10,totalUsersCount:0,activePage:1,isFetching:!1,followingInProgress:[]},Ge=function(e,t){return function(){var a=Object(te.a)(ee.a.mark((function a(n){var r;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Te(!0)),a.next=3,le(e,t);case 3:r=a.sent,n((s=r.items,o=r.totalCount,{type:"SET_USERS",users:s,totalCount:o})),n(Te(!1));case 6:case"end":return a.stop()}var s,o}),a)})));return function(e){return a.apply(this,arguments)}}()},We=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TOGGLE_FOLLOW":e=Object(re.a)(Object(re.a)({},t),{},{users:Object(ne.a)(t.users)});var n,r=Object(ae.a)(e.users);try{for(r.s();!(n=r.n()).done;){var s=n.value;s.id==a.id&&(1==a.followed?s.followed=!1:s.followed=!0)}}catch(l){r.e(l)}finally{r.f()}return e;case"FOLLOWING_IN_PROGRESS":var o;return o=0==a.value?t.followingInProgress.filter((function(e){return e!=a.id})):[].concat(Object(ne.a)(t.followingInProgress),[a.id]),e=Object(re.a)(Object(re.a)({},t),{},{followingInProgress:o});case"SET_USERS":return e=Object(re.a)(Object(re.a)({},t),{},{users:a.users,totalUsersCount:a.totalCount});case"SET_PAGE":return e=Object(re.a)(Object(re.a)({},t),{},{activePage:a.clickPage});case"SET_COUNT_USERS":return e=Object(re.a)(Object(re.a)({},t),{},{pageSize:a.count});case"TOGGLE_IS_FETCHING":return e=Object(re.a)(Object(re.a)({},t),{},{isFetching:a.isFetching});default:return t}},ze=(a(202),{friends:[{id:1,name:"kirill"}],messages:{1:[{id:1,name:"Andrey",text:"Hello!"},{id:2,name:"Me",text:"Hi!"},{id:3,name:"Andrey",text:"How are you?"},{id:4,name:"Me",text:"I`m ok, and you?"},{id:5,name:"Andrey",text:"I`m fine!"}],2:[{id:1,name:"Shasha",text:"Hello!"}],3:[],4:[],5:[],6:[],7:[]}}),He=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD-MESSAGE":var n=(e=Object(re.a)(Object(re.a)({},t),{},{messages:Object(re.a)({},t.messages)})).messages[a.id].length+1,r={id:n,name:"Me",text:a.newMessage};return e.messages[a.id].push(r),e;case"ADD-FRIEND":var s={id:a.id,name:a.name,avatar:a.avatar};return(e=Object(re.a)({},t)).friends.push(s),console.log(e),e;default:return t}},Be=a(260),Ke=Object(Be.a)((function(e){return e.allUsers.users}),(function(e){return e.filter((function(e){return!0}))})),Qe=function(e){return e.allUsers.pageSize},Ze=function(e){return e.allUsers.totalUsersCount},Je=function(e){return e.allUsers.activePage},qe=function(e){return e.allUsers.isFetching},Xe=function(e){return e.allUsers.followingInProgress},Ve=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getActivePage=function(t){e.props.getActivePage(e.props.pageSize,t)},e.setCountUsers=function(t){e.props.setCountUser(t,e.props.activePage)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.pageSize,this.props.activePage)}},{key:"render",value:function(){return s.a.createElement(Le,{getActivePage:this.getActivePage,setCountUsers:this.setCountUsers,users:this.props.users,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,isFetching:this.props.isFetching,addFriend:this.props.addFriend,isProgress:this.props.isProgress,togglefollowUser:this.props.togglefollowUser})}}]),a}(s.a.Component),$e={setCountUsers:Me,addFriend:function(e,t,a){return{type:"ADD-FRIEND",id:e,avatar:t,name:a}},getUsers:Ge,getActivePage:function(e,t){return function(a){a({type:"SET_PAGE",clickPage:t}),a(Ge(e,t))}},setCountUser:function(e,t){return function(a){a(Me(e)),a(Ge(e,t))}},togglefollowUser:function(e,t){return function(){var a=Object(te.a)(ee.a.mark((function a(n){return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(De(e,!0)),a.next=3,me(e,t);case 3:200===a.sent.status&&(n(Fe(e,t)),n(De(e,!1)));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},Ye=Object(p.b)((function(e){return{users:Ke(e),pageSize:Qe(e),totalUsersCount:Ze(e),activePage:Je(e),isFetching:qe(e),isProgress:Xe(e)}}),$e)(Ve),et=a(120),tt=a.n(et),at=a(166),nt=a.n(at),rt=a(91),st=a.n(rt),ot=function(e){return s.a.createElement("div",{className:st.a.dialog},s.a.createElement("img",{src:e.img,className:st.a.avatar}),s.a.createElement("div",null,s.a.createElement("p",{className:st.a.name},e.name),s.a.createElement("p",{className:st.a.message},e.text)))},lt=a(92),it=a.n(lt),ct=function(e){return s.a.createElement("div",{className:it.a.dialog},s.a.createElement("div",null,s.a.createElement("p",{className:it.a.name},e.name),s.a.createElement("p",{className:it.a.message},e.text)),s.a.createElement(ye.b,{to:"/profile"},s.a.createElement("img",{src:"https://clraik.com/forum/customavatars/avatar14341_15.gif",className:it.a.avatar})))},ut=function(e){var t=Object(V.a)({form:"newMessage"})(X),a=e.messages[e.id].map((function(t){return"Me"!==t.name?s.a.createElement(ot,{key:t.id,name:t.name,text:t.text,img:e.img}):s.a.createElement(ct,{key:t.id,name:t.name,text:t.text})}));return s.a.createElement("div",{className:nt.a.allMessages},a,s.a.createElement("div",{className:nt.a.chatInput},s.a.createElement(t,{onSubmit:function(t){e.addMessage(t.newMessage,e.id)},name:"newMessage",placeholder:"send new message"})))},mt=a(121),ft=a.n(mt),pt=function(e){return s.a.createElement("li",null,s.a.createElement(ye.b,{activeClassName:ft.a.active,to:"/messages/"+e.id},s.a.createElement("div",{className:ft.a.person},s.a.createElement("img",{className:ft.a.avatar,src:e.img,alt:""}),s.a.createElement("span",null,e.name))))},dt=function(e){var t=e.friendsPage.friends.map((function(e){return s.a.createElement(pt,{key:e.id,name:e.name,id:e.id,img:e.avatar})})),a=t.map((function(t){return s.a.createElement(f.b,{path:"/messages/".concat(t.props.id)},s.a.createElement(ut,{key:t.props.id,messages:e.friendsPage.messages,id:t.props.id,img:t.props.img,addMessage:e.addMessage}))}));return s.a.createElement("div",null,s.a.createElement("h4",{className:tt.a.headline},"Messages"),s.a.createElement("div",{className:tt.a.messages},s.a.createElement("ul",{className:tt.a.dialogs},t),a))},gt=Object(Oe.d)(Object(p.b)((function(e){return{friendsPage:e.friendsPage}}),(function(e){return{addMessage:function(t,a){e(function(e,t){return{type:"ADD-MESSAGE",newMessage:e,id:t}}(t,a))}}})),Se)((function(e){return s.a.createElement(dt,e)})),Et=(a(684),function(){return s.a.createElement("div",null,"News")}),_t=(a(685),function(){return s.a.createElement("div",null,"Music")}),vt=(a(686),function(){return s.a.createElement("div",null,"Settings")}),bt=a(41),ht=a.n(bt),wt=a(167),Ot=a.n(wt),St=a(168),jt=a.n(St),Nt=function(e){return s.a.createElement("div",{className:jt.a.wrapper},s.a.createElement("img",{className:jt.a.avatar,src:e.avatar}),s.a.createElement("p",null,e.name))},Ut=a(261),Pt=a.n(Ut),yt=function(e){var t=e.friends.map((function(e){return s.a.createElement(Nt,{key:e.id,avatar:e.avatar,name:e.name})}));return s.a.createElement("div",{className:Ot.a.friendsList},s.a.createElement("p",null,"Friend"),s.a.createElement(Pt.a,Object.assign({className:Ot.a.friendsWindow},{infinite:!0,speed:500,autoplay:!0,autoplaySpeed:3e3,slidesToShow:2,slidesToScroll:1,rows:2}),t))},xt=function(e){return s.a.createElement("div",{className:ht.a.leftMenu},s.a.createElement("ul",{className:ht.a.menu},s.a.createElement("li",null,s.a.createElement(ye.b,{to:"/profile",activeClassName:ht.a.active},"Profile")),s.a.createElement("li",null,s.a.createElement(ye.b,{to:"/messages",activeClassName:ht.a.active},"Messages")),s.a.createElement("li",null,s.a.createElement(ye.b,{to:"/news",activeClassName:ht.a.active},"News")),s.a.createElement("li",null,s.a.createElement(ye.b,{to:"/music",activeClassName:ht.a.active},"Music")),s.a.createElement("li",null,s.a.createElement(ye.b,{to:"/settings",activeClassName:ht.a.active},"Settings")),s.a.createElement("li",null,s.a.createElement(ye.b,{to:"/users",activeClassName:ht.a.active},"Find Users"))),s.a.createElement(yt,{friends:e.friends}))},It=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement(xt,{friends:this.props.friends})}}]),a}(s.a.Component),kt=Object(p.b)((function(e){return{friends:e.friendsPage.friends}}))(It),Ct=a(93),At=a.n(Ct),Lt=function(e){return s.a.createElement("div",{className:At.a.header},s.a.createElement(ye.b,{to:"/profile"},s.a.createElement("img",{src:"http://www.pngall.com/wp-content/uploads/2016/06/Superman-Logo-Free-Download-PNG.png",className:At.a.logo})),s.a.createElement("p",null,"SOCIAL CITE"),e.isAuth?s.a.createElement("button",{onClick:e.logoutAccount,className:At.a.button},"Exit"):s.a.createElement(ye.b,{to:"/login"},s.a.createElement("button",{className:At.a.button},"Sign In")))},Ft=a(40),Mt=function(e,t){return{type:"SET_USER_DATA",data:e,isAuth:t}},Tt={email:null,id:null,login:null,isFetching:!1,isAuth:!1},Dt=function(){return function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:0===(a=e.sent).resultCode&&t(Mt(a.data,!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(re.a)(Object(re.a)(Object(re.a)({},e),t.data),{},{isAuth:t.isAuth});case"TOGGLE_IS_FETCHING":return Object(re.a)(Object(re.a)({},e),{},{isFetching:t.isFetching});case"SET_LOGIN":return Object(re.a)({},e);default:return e}},Gt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement(Lt,Object.assign({},this.props.userInfo,{logoutAccount:this.props.logoutAccount}))}}]),a}(s.a.Component),Wt={toggleIfFetching:function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},logoutAccount:function(){return function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.delete("/auth/login");case 2:0===e.sent.data.resultCode&&(t(Mt(null,!1)),alert("\u0412\u044b \u0432\u044b\u0448\u043b\u0438"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},zt=Object(p.b)((function(e){return{userInfo:e.auth}}),Wt)(Gt),Ht=a(262),Bt=a.n(Ht),Kt=(n=6,function(e){return e&&e.length<n?"Must be at least ".concat(n," characters "):void 0}),Qt=R(30),Zt=function(e){return 0==e.isAuth?s.a.createElement("form",{onSubmit:e.handleSubmit},s.a.createElement("div",null,s.a.createElement(T.a,{name:"email",component:K,type:"text",placeholder:"email",validate:[D,G]})),s.a.createElement("div",null,s.a.createElement(T.a,{name:"password",component:K,type:"password",placeholder:"password",validate:[D,Qt,Kt]})),s.a.createElement("div",null,s.a.createElement(T.a,{name:"remember",component:K,type:"checkbox"})," Remember me"),e.error&&s.a.createElement("div",{className:Bt.a.error},e.error),s.a.createElement("div",null,s.a.createElement("button",{type:"submit",disabled:e.pristine||e.submitting||e.invalid},"Login"))):s.a.createElement(f.a,{to:"/profile"})},Jt=Object(V.a)({form:"login"})(Zt),qt={accountLogin:function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(a){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de(e);case 2:0===(n=t.sent).data.resultCode?(a(Dt()),alert("\u0412\u044b \u0432\u043e\u0448\u043b\u0438")):a(Object(Ft.a)("login",{_error:n.data.messages[0]}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Xt=Object(p.b)((function(e){return{isAuth:e.auth.isAuth}}),qt)((function(e){return s.a.createElement(Jt,{onSubmit:function(t){e.accountLogin(t)},isAuth:e.isAuth})})),Vt={initialized:!1},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(re.a)(Object(re.a)({},e),{},{initialized:!0});default:return e}},Yt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialize?s.a.createElement("div",{className:"SNsite"},s.a.createElement(zt,null),s.a.createElement(kt,null),s.a.createElement(f.b,{path:"/profile/:userId?"},s.a.createElement(r.Suspense,null,s.a.createElement(Ne,null))),s.a.createElement(f.b,{path:"/messages"},s.a.createElement(r.Suspense,null,s.a.createElement(gt,null))),s.a.createElement(f.b,{path:"/news"},s.a.createElement(Et,null)),s.a.createElement(f.b,{path:"/music"},s.a.createElement(_t,null)),s.a.createElement(f.b,{path:"/settings"},s.a.createElement(vt,null)),s.a.createElement(f.b,{path:"/users"},s.a.createElement(r.Suspense,null,s.a.createElement(Ye,null))),s.a.createElement(f.b,{path:"/login"},s.a.createElement(Xt,null))):s.a.createElement(w,null)}}]),a}(s.a.Component),ea={initializeApp:function(){return function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Dt());case 2:t({type:"SET_INITIALIZED"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},ta=Object(Oe.d)(f.f,Object(p.b)((function(e){return{initialize:e.appInitial.initialized}}),ea))(Yt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var aa=a(248),na=a(263),ra=Object(Oe.c)({profilePage:be,friendsPage:He,allUsers:We,auth:Rt,form:aa.a,appInitial:$t}),sa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Oe.d,oa=Object(Oe.e)(ra,sa(Object(Oe.a)(na.a)));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(p.a,{store:oa},s.a.createElement(ye.a,{basename:"/social-network-react-js"},s.a.createElement(ta,{store:oa})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,a){e.exports={buttonFollow:"Botton_buttonFollow__3G5Ps",buttonUnfollow:"Botton_buttonUnfollow__1TS7i",disable:"Botton_disable__CRiVQ"}},91:function(e,t,a){e.exports={dialog:"Dialog_dialog__3lzcm",name:"Dialog_name__1RaE6",message:"Dialog_message__34Fpw",avatar:"Dialog_avatar__3q9LU"}},92:function(e,t,a){e.exports={dialog:"DialogMe_dialog__QVKRv",name:"DialogMe_name__10liz",message:"DialogMe_message__1iYah",avatar:"DialogMe_avatar__2oxis"}},93:function(e,t,a){e.exports={header:"Header_header__3JxG1",logo:"Header_logo__1fq_2",button:"Header_button__2GCZR"}}},[[289,1,2]]]);
//# sourceMappingURL=main.cb30ec9e.chunk.js.map