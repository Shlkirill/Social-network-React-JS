{"version":3,"sources":["components/Profile/Posts/Posts.module.css","components/Profile/Posts/Post/Post.module.css","components/Messages/Messages.module.css","components/Messages/DialogWithPerson/DialogWithPerson.module.css","common/forms/formsControls/formsControls.module.css","common/forms/AddNewText.module.css","components/Messages/DialogueWindow/DialogueWindow.module.css","components/LeftMenu/FriendList/FriendList.module.css","components/LeftMenu/FriendList/Friend/Friend.module.css","components/Profile/Profile.module.css","img/load-final.gif","common/loading/loading.module.css","components/Login/Login.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/LeftMenu/LeftMenu.module.css","components/Users/Users.module.css","components/Users/User/User.module.css","img/empty-avatar.png","utils/validations/validation.js","common/loading/loading.jsx","common/toggleFollow/BottonToggleFollow.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Posts/Post/Post.jsx","common/forms/formsControls/formsControls.jsx","common/forms/AddNewText.jsx","components/Profile/Posts/Posts.jsx","api/api.js","redux/profileReducer.js","components/Profile/Posts/PostsContainer.jsx","components/Profile/Profile.jsx","components/hoc/withAuthRedirect.js","components/Profile/Profile–°ontainer.jsx","components/Users/User/User.jsx","components/Users/Users.jsx","redux/usersReducer.js","redux/friendsReducer.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Messages/Dialog/Dialog.jsx","components/Messages/DialogMe/DialogMe.jsx","components/Messages/DialogueWindow/DialogueWindow.jsx","components/Messages/DialogWithPerson/DialogWithPerson.jsx","components/Messages/Messages.jsx","components/Messages/MessagesContainer.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/LeftMenu/FriendList/Friend/Friend.jsx","components/LeftMenu/FriendList/FriendList.jsx","components/LeftMenu/LeftMenu.jsx","components/LeftMenu/LeftMenu container.jsx","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Login/LoginContainer.jsx","redux/appReducer.js","App.js","serviceWorker.js","redux/reduxStore.js","index.js","common/toggleFollow/Botton.module.css","components/Messages/Dialog/Dialog.module.css","components/Messages/DialogMe/DialogMe.module.css","components/Header/Header.module.css"],"names":["module","exports","min","Loading","src","loadLogo","alt","className","styles","BottonToggleFollow","initial","action","followed","arr","id","result","some","item","onClick","disable","buttonUnfollow","disabled","buttonFollow","ProfileStatus","props","useState","editMode","setEditMode","status","statusText","setStatusText","disableMode","e","getUpdateSatus","getUserStatus","authId","useEffect","userId","statusEditOn","onChange","target","value","match","placeholder","maxLength","autoFocus","type","onBlur","statusEditOff","statusAllUsers","ProfileInfo","profile","image","user","userAvatarAndFollow","photos","large","photoDefault","avatar","console","log","togglefollowUser","isProgress","info","fullName","aboutMe","social","href","contacts","vk","class","instagram","facebook","Post","post","small","text","postLike","addLike","likes","required","max","length","email","test","TextareaField","input","meta","touched","error","warning","inputField","maxLength100","maxLength200","FormAddNewText","onSubmit","handleSubmit","Field","inputText","name","component","validate","validateCreactor","inputSubmit","pristine","submitting","invalid","Posts","React","memo","ContactForm","reduxForm","form","postsData","map","key","side","createPost","addPost","newPost","posts","instance","axios","create","baseURL","withCredentials","headers","apiGetUsers","count","page","a","get","response","data","apiAuth","apiSetProfile","apiGetFollowUser","apitogglefollowUser","delete","apiGetStatus","apiUpdateStatus","put","apiLogin","objData","setUserProfileAC","userProfile","setFollowedUserAC","followingInProgressAC","initialState","likeClick","followingInProgress","profileReducer","stateCopy","state","newId","newLikes","newText","push","clickPost","k","connect","profilePage","dispatch","addPostActionCreator","Profile","main","setFollowedUser","withAuthRedirectComponent","Component","isAuth","auth","to","mapDispatchToProps","setUserProfile","setProfile","undefined","getFollowUser","compose","withRouter","params","User","user_logo","user_info","Users","pagesCount","Math","ceil","totalUsersCount","pageSize","arrPages","i","userDate","users","addFriend","tittle","paginationContainer","isFetching","commentBox","previousLabel","nextLabel","breakLabel","breakClassName","pageCount","marginPagesDisplayed","pageRangeDisplayed","onPageChange","getActivePage","selected","containerClassName","pagination","subContainerClassName","activeClassName","activePage","select","setCountUsers","toggleFollowAC","setCountUsersAC","toggleIfFetchingAC","getUsersTC","items","totalCount","UsersReducer","filter","clickPage","friends","messages","1","2","3","4","5","6","7","friendsReducer","newMessage","newFriend","getUsersSuperCreateSelectorTEST","createSelector","allUsers","u","getUsersPageSize","getTotalUsersCount","getFetching","getFollowingInProgress","UsersContainer","setCountUser","this","getUsers","Dialog","dialog","img","message","DialogMe","DialogueWindow","allMessages","chatInput","formData","addMessage","DialogWithPerson","active","person","Messages","interlocutorName","friendsPage","dialogWindowName","path","headline","dialogs","addMessageActionCreator","News","Music","Settings","Friend","wrapper","FriendList","friendsList","friendsWindow","infinite","speed","autoplay","autoplaySpeed","slidesToShow","slidesToScroll","rows","LeftMenu","leftMenu","menu","LeftMenuContainer","Header","header","logo","logoutAccount","button","setUserDataAC","login","authorizationTC","resultCode","AuthReducer","HeaderContainer","userInfo","toggleIfFetching","alert","minLength6","maxLength30","Login","accountLogin","stopSubmit","_error","initialized","appReducer","App","initializeApp","initialize","appInitial","Boolean","window","location","hostname","reducers","combineReducers","usersReducer","authReducer","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","basename","process","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.cb30ec9e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"side\":\"Posts_side__1SvJt\",\"posts\":\"Posts_posts__3ajs4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__1PTCp\",\"likes\":\"Post_likes__BN6yF\",\"avatar\":\"Post_avatar__14uei\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headline\":\"Messages_headline__2jSMC\",\"messages\":\"Messages_messages__2W8Ev\",\"dialogs\":\"Messages_dialogs__1EU1k\",\"allMessages\":\"Messages_allMessages__1EDcC\",\"chatInput\":\"Messages_chatInput__2VqdS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"person\":\"DialogWithPerson_person__3quXZ\",\"avatar\":\"DialogWithPerson_avatar__1pAhJ\",\"active\":\"DialogWithPerson_active__3X5y0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"formsControls_error__fUQMw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputText\":\"AddNewText_inputText__2KzqH\",\"inputSubmit\":\"AddNewText_inputSubmit__1D2ZC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"allMessages\":\"DialogueWindow_allMessages__168EW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsList\":\"FriendList_friendsList__sErCK\",\"friendsWindow\":\"FriendList_friendsWindow__3KOIJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Friend_wrapper__25kAa\",\"avatar\":\"Friend_avatar__Lfhau\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Profile_main__26XCL\"};","module.exports = __webpack_public_path__ + \"static/media/load-final.bb4fdd52.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadLogo\":\"loading_loadLogo__-2nSU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Login_error__3CGr5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ProfileInfo_image__18mIc\",\"user\":\"ProfileInfo_user__1u2-j\",\"userAvatarAndFollow\":\"ProfileInfo_userAvatarAndFollow__XF-r4\",\"bottom\":\"ProfileInfo_bottom__JpCgh\",\"avatar\":\"ProfileInfo_avatar__1wWkI\",\"info\":\"ProfileInfo_info__1MNss\",\"social\":\"ProfileInfo_social__2FSKQ\",\"statusEditOff\":\"ProfileInfo_statusEditOff__jg_CX\",\"statusAllUsers\":\"ProfileInfo_statusAllUsers__3s7zG\",\"statusEditOn\":\"ProfileInfo_statusEditOn__2r70j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"leftMenu\":\"LeftMenu_leftMenu__2GSGv\",\"menu\":\"LeftMenu_menu__3N44Q\",\"active\":\"LeftMenu_active__3hp3z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__2NNoa\",\"tittle\":\"Users_tittle__31R-H\",\"button\":\"Users_button__2eOt7\",\"paginationContainer\":\"Users_paginationContainer__3JS-Q\",\"pagination\":\"Users_pagination__3Vp00\",\"select\":\"Users_select__3PoBu\",\"activePage\":\"Users_activePage__QLk_L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__2Oact\",\"user_logo\":\"User_user_logo__13RCD\",\"avatar\":\"User_avatar__3OW2G\",\"buttonFollow\":\"User_buttonFollow__2AWEQ\",\"buttonUnfollow\":\"User_buttonUnfollow__1ery8\",\"user_info\":\"User_user_info__2f5qM\",\"name\":\"User_name__2v59S\",\"city\":\"User_city__Mbi_o\",\"country\":\"User_country__mhr_u\",\"status\":\"User_status__2bfZB\",\"active\":\"User_active__CimQk\"};","module.exports = __webpack_public_path__ + \"static/media/empty-avatar.8cb04c92.png\";","\r\nexport const required = (value) => {\r\n    if (!value) return 'This field cannot be empty';\r\n    return undefined;\r\n}\r\n\r\nexport const maxLength = (max) => (value) => {\r\n    if (value && value.length > max) {\r\n        return `Must be ${max} characters or less`\r\n    }\r\n    else {\r\n        return undefined\r\n    }\r\n};\r\n\r\nexport const minLength = (min) => (value) => {\r\n    if (value && value.length < min) {\r\n        return `Must be at least ${min} characters `\r\n    } else {\r\n        return undefined;\r\n    }\r\n};\r\n\r\nexport const email = (value) => {\r\n    if (value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) {\r\n        return 'Invalid email address'\r\n    } else {\r\n        return undefined\r\n    }\r\n}","import React from 'react';\r\nimport loadLogo from '../../img/load-final.gif'\r\nimport styles from './loading.module.css'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <img src={loadLogo} alt=\"\" className={styles.loadLogo} alt=\"\"/>\r\n    )\r\n}\r\n\r\nexport default Loading","import React from 'react';\r\nimport styles from './Botton.module.css'\r\n\r\nexport const BottonToggleFollow = (initial, action, followed, arr, id) => {\r\n    let result;\r\n    if (initial == \"ONE_USER\") {\r\n        result = arr;\r\n\r\n    } else if (initial == \"ALL_USER\") {\r\n        result = arr.some((item) => {\r\n            return item == id;\r\n        })\r\n    }\r\n    return followed == true ? <button onClick={action} className={result ? styles.disable : styles.buttonUnfollow} disabled={result}>{result ? 'wait...' : 'unfollow'}</button> :\r\n        <button onClick={action} className={result ? styles.disable : styles.buttonFollow} disabled={result}>{result ? 'wait...' : 'follow'}</button>\r\n}","import React from 'react';\r\nimport styles from './ProfileInfo.module.css'\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\n\r\nconst ProfileStatus = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [statusText, setStatusText] = useState(props.status)\r\n\r\n    let enableMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    let disableMode = (e) => {\r\n        setEditMode(false);\r\n        if (statusText !== props.status) {\r\n            props.getUpdateSatus(statusText)\r\n            props.getUserStatus(props.authId)\r\n        };\r\n    }\r\n    let editStatusText = (e) => {\r\n        e.target.value.match(/^[ ]+$/) || e.target.value == '' ? setStatusText(props.status) : setStatusText(e.target.value)\r\n    }\r\n    useEffect(() => {\r\n        setStatusText(props.status);\r\n    }, [props.status])\r\n    return (\r\n        <div>\r\n            {props.userId == props.authId ? <div>{editMode == true ?\r\n                <div className={styles.statusEditOn}>\r\n                    <input onChange={editStatusText} placeholder=\"max-60 symbol\" maxLength={60} autoFocus={true} type=\"text\" onBlur={disableMode} />\r\n                    <button onClick={disableMode}><i className=\"fas fa-arrow-circle-right\"></i></button>\r\n                </div> :\r\n                <div className={styles.statusEditOff}>\r\n                    <span onClick={enableMode}> {statusText || '–°—Ç–∞—Ç—É—Å –ø—É—Å—Ç'}</span>\r\n                </div>}\r\n            </div> :\r\n                <div className={styles.statusAllUsers}>\r\n                    <span> {statusText || '–°—Ç–∞—Ç—É—Å –ø—É—Å—Ç'}</span>\r\n                </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatus","import React from 'react';\r\nimport Loading from '../../../common/loading/loading';\r\nimport styles from './ProfileInfo.module.css'\r\nimport photoDefault from '../../../img/empty-avatar.png'\r\nimport { BottonToggleFollow } from '../../../common/toggleFollow/BottonToggleFollow';\r\nimport ProfileStatus from './ProfileStatus';\r\n\r\nconst ProfileInfo = (props) => {\r\n  if (!props.profile) {\r\n    return <Loading />\r\n  }\r\n  let onToggleFollow = () => {\r\n    console.log(props.followed);\r\n    props.togglefollowUser(props.profile.userId, props.followed);\r\n  };\r\n  return (\r\n    <div>\r\n      <img src='http://dgdesign.ru/uploads/posts/2018-05/1525700405_shapka-sayta-tehnologii-2114654127851.jpg' className={styles.image} />\r\n      <div className={styles.user}>\r\n        <div className={styles.userAvatarAndFollow}>\r\n          <img src={props.profile.photos.large || photoDefault} className={styles.avatar} />\r\n          {props.profile.userId !== props.authId ? BottonToggleFollow('ONE_USER', onToggleFollow, props.followed, props.isProgress, props.id) : null}\r\n        </div>\r\n        <div className={styles.info}>\r\n          <h4>{props.profile.fullName}</h4>\r\n          <p><ProfileStatus status={props.status} getUpdateSatus={props.getUpdateSatus} \r\n          getUserStatus={props.getUserStatus} authId={props.authId} userId={props.profile.userId}/></p>\r\n          <p><span>Date of Birth: </span>12.08.1994 g.</p>\r\n          <p><span>City: </span>Belogorod</p>\r\n          <p><span>Education: </span>Belgorod economic university</p>\r\n          <p><span>tel.: </span>8-800-555-35-35</p>\r\n          <p><span>About me:</span> {props.profile.aboutMe}</p>\r\n          <div className={styles.social}><a href={props.profile.contacts.vk}><i class=\"fab fa-vk\"></i></a><a href={props.profile.contacts.instagram}><i class=\"fab fa-instagram\"></i></a><a href={props.profile.contacts.facebook}><i class=\"fab fa-facebook-square\"></i></a></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport Loading from '../../../../common/loading/loading';\r\nimport photoDefault from '../../../../img/empty-avatar.png'\r\nimport styles from'./Post.module.css'\r\n\r\nconst Post = (props) => {\r\n  let onAddLike = () => {\r\n    let postLike = props;\r\n    props.addLike(postLike);\r\n  }\r\n  if (!props.profile) {\r\n    return <Loading />\r\n  }    \r\n  return(\r\n    <div className={styles.post}> \r\n      <img src={props.profile.photos.small||photoDefault} className={styles.avatar}/>\r\n      <p>{props.text}</p>\r\n      <i onClick={onAddLike} className=\"far fa-heart\"></i><span className={styles.likes}>{props.likes}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post;","import React from 'react'\r\nimport styles from './formsControls.module.css';\r\n\r\nexport const TextareaField = ({input, meta: { touched, error, warning }, ...props}) => {\r\n    return (\r\n        <div className={touched && error && styles.error}>\r\n            <textarea {...input} {...props}/>\r\n            {touched && error && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const inputField = ({input, type, meta: { touched, error, warning }, ...props}) => {\r\n    return (\r\n        <div className={touched && error && styles.error}>\r\n            <input {...input} type = {type}{...props}/>\r\n            {touched && error && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport { required, maxLength, minLength } from '../../utils/validations/validation';\r\nimport { TextareaField } from './formsControls/formsControls.jsx'\r\nimport styles from './AddNewText.module.css';\r\n\r\nconst maxLength100 = maxLength(100)\r\nconst maxLength200 = maxLength(200)\r\n\r\nconst FormAddNewText = (props) => {\r\n\r\n  const validateCreactor = () => {\r\n    switch (props.name) {\r\n      case 'newPost':\r\n        return [maxLength200]\r\n      case 'newMessage':\r\n        return [maxLength100]\r\n    }\r\n  }\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n\r\n      <div>\r\n        <Field className={styles.inputText} name={props.name}\r\n          component={TextareaField} type=\"text\" placeholder={props.placeholder}\r\n          validate={validateCreactor()} />\r\n      </div>\r\n      <div>\r\n        <button className={styles.inputSubmit} disabled={props.pristine || props.submitting || props.invalid}>Send</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default FormAddNewText","import React from 'react';\r\nimport styles from './Posts.module.css';\r\nimport Post from './Post/Post';\r\nimport FormAddNewText from '../../../common/forms/AddNewText';\r\nimport { reduxForm } from 'redux-form';\r\n\r\nconst Posts = React.memo((props) => {\r\n\r\n  const ContactForm = reduxForm({\r\n    form: 'newPost'\r\n  })(FormAddNewText);\r\n\r\n  const onSubmit = (value) => {\r\n    props.addPost(value.newPost)\r\n  }\r\n\r\n  let result = props.postsData.map(item => <Post key={item.id} text={item.text} likes={item.likes} addLike={props.addLike} profile={props.profile} />);\r\n  console.log('RENDER POSTS')\r\n  return (\r\n    <div className={styles.side}>\r\n      <div className={styles.createPost}>\r\n        <h3> My posts</h3>\r\n        <ContactForm onSubmit={onSubmit} name={'newPost'} placeholder={'send new post'} />\r\n      </div>\r\n      <div className={styles.posts}>  \r\n        {result}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n)\r\nexport default Posts;","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '1f53d161-bcd3-47d8-8414-bda7e59dbf15',\r\n    }\r\n})\r\n\r\n\r\nexport const apiGetUsers = async (count, page) => {\r\n    let response = await instance.get(`users?count=${count}&page=${page}`)\r\n    return response.data\r\n};\r\n\r\nexport const apiAuth = async () => {\r\n    let response = await instance.get(`auth/me`,);\r\n    return response.data\r\n};\r\n\r\nexport const apiSetProfile = async (userId) => {\r\n    let response = await instance.get(`profile/${userId}`);\r\n    return response.data\r\n};\r\n\r\nexport const apiGetFollowUser = async (id) => {\r\n    let response = await instance.get(`follow/${id}`);\r\n    return response.data\r\n};\r\n\r\nexport const apitogglefollowUser = (id, value) => {\r\n    return value ? instance.delete(`/follow/${id}`) : instance.post(`follow/${id}`);\r\n}\r\n\r\nexport const apiFollowUser = (id) => {\r\n    return instance.post(`follow/${id}`)\r\n};\r\n\r\nexport const apiUnfollowUser = (id) => {\r\n    return instance.delete(`/follow/${id}`)\r\n};\r\n\r\nexport const apiGetStatus = (userId) => {\r\n    return instance.get(`/profile/status/${userId}`)\r\n};\r\n\r\nexport const apiUpdateStatus = (status) => {\r\n    return instance.put(`/profile/status`, { status: status })\r\n};\r\nexport const apiLogin = (objData) => {\r\n    return instance.post(`/auth/login`, objData);\r\n};\r\nexport const apiLogout = () => {\r\n    return instance.delete(`/auth/login`)\r\n};","import { apiGetFollowUser, apiGetStatus, apiSetProfile, apitogglefollowUser, apiUpdateStatus } from \"../api/api\"\r\n\r\nexport const addPostActionCreator = (text) => {\r\n  return {\r\n    type: \"ADD-POST\",\r\n    newText: text,\r\n  }\r\n}\r\nexport const addLikeActionCreator = (props) => {\r\n  return {\r\n    type: \"ADD-LIKE\",\r\n    clickPost: props\r\n  }\r\n}\r\nexport const setUserProfileAC = (userProfile) => {\r\n  return {\r\n    type: \"SET_USER_PROFILE\",\r\n    userProfile\r\n  }\r\n}\r\nexport const setFollowedUserAC = (followed) => {\r\n  return {\r\n    type: \"SET_FOLLOWED_USER\",\r\n    followed\r\n  }\r\n}\r\nexport const followingInProgressAC = (value) => {\r\n  return {\r\n    type: 'FOLLOWING_IN_PROGRESS',\r\n    value,\r\n  }\r\n}\r\nexport const setStatusAC = (status) => {\r\n  return {\r\n    type: 'SET_STATUS',\r\n    status,\r\n  }\r\n}\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, text: 'Hello! How are you?', likes: 3, likeClick: 0 },\r\n    { id: 2, text: 'My name is Kirill!', likes: 8, likeClick: 0 },\r\n    { id: 3, text: 'Good life', likes: 5, likeClick: 0 }\r\n  ],\r\n  profile: null,\r\n  followed: null,\r\n  followingInProgress: false,\r\n  status: \"\",\r\n\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  let stateCopy;\r\n\r\n  switch (action.type) {\r\n    case \"SET_USER_PROFILE\":\r\n      stateCopy = {\r\n        ...state,\r\n        profile: action.userProfile,\r\n      };\r\n      return stateCopy;\r\n    case \"ADD-POST\":\r\n      stateCopy = {\r\n        ...state,\r\n        posts: [...state.posts],\r\n      };\r\n      let newId = stateCopy.posts.length + 1;\r\n      let newLikes = 0;\r\n      let newPost = {\r\n        id: newId,\r\n        text: action.newText,\r\n        likes: newLikes,\r\n        likeClick: 0\r\n      };\r\n      stateCopy.posts.push(newPost);\r\n      return stateCopy;\r\n    case \"ADD-LIKE\":\r\n      console.log(action.clickPost.text)\r\n      stateCopy = {\r\n        ...state,\r\n        posts: [...state.posts],\r\n      };\r\n      for (let k of stateCopy.posts) {\r\n        if (k.text == action.clickPost.text) {\r\n          if (k.likeClick == 0) {\r\n            k.likes += 1;\r\n            k.likeClick = 1;\r\n          } else {\r\n            k.likes -= 1;\r\n            k.likeClick = 0;\r\n          }\r\n        }\r\n      }\r\n      return stateCopy;\r\n    case \"SET_FOLLOWED_USER\":\r\n      stateCopy = {\r\n        ...state,\r\n        followed: action.followed,\r\n      };\r\n      return stateCopy;\r\n    case 'FOLLOWING_IN_PROGRESS':\r\n      stateCopy = {\r\n        ...state,\r\n        followingInProgress: action.value\r\n      }\r\n      return stateCopy;\r\n    case 'SET_STATUS':\r\n      stateCopy = {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n      return stateCopy;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setProfileTC = (userId) => async (dispatch) => {\r\n  let response = await apiSetProfile(userId)\r\n  if (response != undefined) {\r\n    dispatch(setUserProfileAC(response))\r\n  }\r\n}\r\n\r\n\r\nexport const getFollowUserTC = (userId) => async (dispatch) => {\r\n  let response = await apiGetFollowUser(userId);\r\n  dispatch(setFollowedUserAC(response));\r\n}\r\n\r\nexport const togglefollowUserTC = (id, followed) => async (dispatch) => {\r\n  dispatch(followingInProgressAC(true));\r\n  debugger;\r\n  let response = await apitogglefollowUser(id, followed);\r\n  if (response.status === 200) {\r\n    dispatch(setFollowedUserAC(!followed));\r\n    dispatch(followingInProgressAC(false));\r\n  }\r\n};\r\n\r\nexport const getUserStatusTC = (userId) => async (dispatch) => {\r\n  let response = await apiGetStatus(userId);\r\n  if (response.status === 200) {\r\n    dispatch(setStatusAC(response.data))\r\n  }\r\n}\r\n\r\nexport const getUpdateSatusTC = (status) => async () => {\r\n  apiUpdateStatus(status);\r\n}\r\n\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport Posts from './Posts';\r\nimport { addPostActionCreator, addLikeActionCreator } from '../../../redux/profileReducer';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm } from 'redux-form';\r\n\r\n\r\nconst PostsContainer = (props) => {\r\n  \r\n  return(\r\n    <Posts {...props}/>\r\n  )\r\n}\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return{\r\n    postsData: state.profilePage.posts,\r\n    profile: state.profilePage.profile\r\n  }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (text) => {dispatch(addPostActionCreator(text))},\r\n    addLike: (postLike) => {dispatch(addLikeActionCreator(postLike))},\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PostsContainer);","import React from 'react';\r\nimport styles from './Profile.module.css'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport PostsContainer from './Posts/PostsContainer';\r\n  \r\nconst Profile = (props) => {\r\n  console.log('RENDER PROFILE')\r\n  return(\r\n    <div className={styles.main}>\r\n      <ProfileInfo  profile={props.profile} followed={props.followed} \r\n                    setFollowedUser={props.setFollowedUser} isProgress={props.isProgress} \r\n                    followingInProgress={props.followingInProgress} status={props.status} \r\n                    getUpdateSatus={props.getUpdateSatus} getUserStatus={props.getUserStatus}\r\n                    authId={props.authId} togglefollowUser={props.togglefollowUser}/>\r\n      <PostsContainer/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nexport const withAuthRedirectComponent = (Component) => {\r\n\r\n    const RedidectComponent = (props) => {\r\n        if (props.isAuth === false) return <Redirect to={'/login'} />\r\n\r\n        return (\r\n            <Component {...props} />\r\n        )\r\n    }\r\n\r\n    const mapStateToProps = (state) => {\r\n        return {\r\n            isAuth: state.auth.isAuth\r\n        }\r\n    }\r\n\r\n    let connectedRedirectComponent = connect(mapStateToProps)(RedidectComponent);\r\n\r\n    return connectedRedirectComponent;\r\n}","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Profile from './Profile';\r\nimport { followingInProgressAC, getFollowUserTC, getUpdateSatusTC, getUserStatusTC, setFollowedUserAC, setProfileTC, setUserProfileAC, togglefollowUserTC} from '../../redux/profileReducer';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirectComponent } from '../hoc/withAuthRedirect';\r\n\r\nconst ProfileContainer = (props) => {\r\n  useEffect(() => {\r\n    let userId = props.match.params.userId;\r\n    if (!userId) {\r\n      userId = props.authId;\r\n    }\r\n    props.setProfile(userId);\r\n    props.getFollowUser(userId);\r\n    props.getUserStatus(userId);\r\n  }, [])\r\n  return (<Profile profile={props.profile} followed={props.followed}\r\n    setFollowedUser={props.setFollowedUser} isProgress={props.isProgress}\r\n    followingInProgress={props.followingInProgress} status={props.status}\r\n    getUpdateSatus={props.getUpdateSatus} getUserStatus={props.getUserStatus}\r\n    authId={props.authId} togglefollowUser={props.togglefollowUser}/>)\r\n}\r\n\r\n\r\n\r\n\r\n// class ProfileContainer extends React.Component {\r\n\r\n//   componentDidMount() {\r\n//     let userId = this.props.match.params.userId;\r\n//     if (!userId) {\r\n//       userId = this.props.authId;\r\n//     }\r\n//     this.props.setProfile(userId);\r\n//     this.props.getFollowUser(userId);\r\n//     this.props.getUserStatus(userId);\r\n//   }\r\n//   render() {\r\n//     return (<Profile profile={this.props.profile} followed={this.props.followed}\r\n//       setFollowedUser={this.props.setFollowedUser} isProgress={this.props.isProgress}\r\n//       followingInProgress={this.props.followingInProgress} followUser={this.props.followUser}\r\n//       unFollowUser={this.props.unFollowUser} status={this.props.status}\r\n//       getUpdateSatus={this.props.getUpdateSatus} getUserStatus={this.props.getUserStatus}\r\n//       authId={this.props.authId} />)\r\n//   }\r\n// }\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    followed: state.profilePage.followed,\r\n    isProgress: state.profilePage.followingInProgress,\r\n    status: state.profilePage.status,\r\n    authId: state.auth.id\r\n  }\r\n}\r\nlet mapDispatchToProps = {\r\n  setUserProfile: setUserProfileAC,\r\n  setFollowedUser: setFollowedUserAC,\r\n  followingInProgress: followingInProgressAC,\r\n  setProfile: setProfileTC,\r\n  getFollowUser: getFollowUserTC,\r\n  getUserStatus: getUserStatusTC,\r\n  getUpdateSatus: getUpdateSatusTC,\r\n  togglefollowUser: togglefollowUserTC\r\n}\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withAuthRedirectComponent,\r\n  withRouter,\r\n)(ProfileContainer);","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './User.module.css'\r\nimport { BottonToggleFollow } from '../../../common/toggleFollow/BottonToggleFollow';\r\n\r\n\r\nconst User = (props) => {\r\n    let onToggleFollow = () => {\r\n        props.togglefollowUser(props.id, props.followed);\r\n    }\r\n    return (\r\n        <div className={styles.user}>\r\n            <div className={styles.user_logo}>\r\n                <NavLink to={`/profile/${props.id}`}>\r\n                    <img src={props.avatar} alt=\"\" className={styles.avatar} />\r\n                </NavLink>\r\n                {BottonToggleFollow('ALL_USER', onToggleFollow, props.followed, props.isProgress, props.id)}\r\n            </div>\r\n            <div className={styles.user_info}>\r\n                <p className={styles.name}>{props.name}</p>\r\n                <p className={styles.status}>{props.status}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport styles from './Users.module.css'\r\nimport User from './User/User';\r\nimport photoDefault from '../../img/empty-avatar.png'\r\nimport ReactPaginate from 'react-paginate';\r\nimport Loading from '../../common/loading/loading';\r\n\r\nconst Users = (props) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let arrPages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        arrPages.push(i);\r\n    }\r\n    let userDate = props.users.map((item) => {\r\n        return <User name={item.name} key={item.id} id={item.id} \r\n        followed={item.followed} avatar={item.photos.small || photoDefault} \r\n        status={item.status} addFriend={props.addFriend} \r\n        isProgress={props.isProgress} togglefollowUser={props.togglefollowUser}/>\r\n    });\r\n    return (\r\n        <div className={styles.users}>\r\n            <h3 className={styles.tittle}>Users</h3>\r\n            <div className={styles.paginationContainer}>\r\n                {props.isFetching ? <Loading /> : null}\r\n                <div className={styles.commentBox}>\r\n                    <ReactPaginate\r\n                        previousLabel={<i className=\"fas fa-angle-double-left\"></i>}\r\n                        nextLabel={<i className=\"fas fa-angle-double-right\"></i>}\r\n                        breakLabel={'...'}\r\n                        breakClassName={'break-me'}\r\n                        pageCount={pagesCount}\r\n                        marginPagesDisplayed={2}\r\n                        pageRangeDisplayed={3}\r\n                        onPageChange={(e) => { props.getActivePage(e.selected + 1) }}\r\n                        containerClassName={styles.pagination}\r\n                        subContainerClassName={'pages pagination'}\r\n                        activeClassName={styles.activePage}\r\n                    />\r\n                </div>\r\n                <div class=\"lds-hourglass\"></div>\r\n                <select className={styles.select} onChange={(e) => { props.setCountUsers(e.target.value) }}>\r\n                    <option value='10'>10</option>\r\n                    <option value='25'>25</option>\r\n                    <option value='50'>50</option>\r\n                </select>\r\n            </div>\r\n            {userDate}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import { apiFollowUser, apiGetUsers, apiUnfollowUser, apitogglefollowUser } from \"../api/api\"\r\n\r\nexport const toggleFollowAC = (id, followed) => {\r\n  return {\r\n    type: \"TOGGLE_FOLLOW\",\r\n    id,\r\n    followed,\r\n  }\r\n}\r\nexport const setUsersAC = (users, totalCount) => {\r\n  return {\r\n    type: 'SET_USERS',\r\n    users,\r\n    totalCount,\r\n  }\r\n}\r\nexport const setPageAC = (clickPage) => {\r\n  return {\r\n    type: 'SET_PAGE',\r\n    clickPage,\r\n  }\r\n}\r\nexport const setCountUsersAC = (count) => {\r\n  return {\r\n    type: 'SET_COUNT_USERS',\r\n    count\r\n  }\r\n}\r\nexport const toggleIfFetchingAC = (isFetching) => {\r\n  return {\r\n    type: 'TOGGLE_IS_FETCHING',\r\n    isFetching\r\n  }\r\n}\r\nexport const followingInProgressAC = (id, value) => {\r\n  return {\r\n    type: 'FOLLOWING_IN_PROGRESS',\r\n    id,\r\n    value\r\n  }\r\n}\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  activePage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n};\r\n\r\nconst UsersReducer = (state = initialState, action) => {\r\n  let stateCopy;\r\n\r\n  switch (action.type) {\r\n    case \"TOGGLE_FOLLOW\":\r\n      stateCopy = {\r\n        ...state,\r\n        users: [...state.users]\r\n      };\r\n      for (let k of stateCopy.users) {\r\n        if (k.id == action.id) {\r\n          (action.followed == true) ? k.followed = false : k.followed = true;\r\n        }\r\n      }\r\n      return stateCopy;\r\n    case 'FOLLOWING_IN_PROGRESS':\r\n      let arr;\r\n      if (action.value == false) {\r\n        arr = state.followingInProgress.filter((item) => {\r\n          return item != action.id\r\n        })\r\n      } else {\r\n        arr = [...state.followingInProgress, action.id]\r\n      }\r\n      stateCopy = {\r\n        ...state,\r\n        followingInProgress: arr,\r\n      }\r\n      return stateCopy;\r\n    case 'SET_USERS':\r\n      stateCopy = {\r\n        ...state,\r\n        users: action.users,\r\n        totalUsersCount: action.totalCount,\r\n      }\r\n      return stateCopy;\r\n    case 'SET_PAGE':\r\n      stateCopy = {\r\n        ...state,\r\n        activePage: action.clickPage,\r\n      }\r\n      return stateCopy;\r\n    case 'SET_COUNT_USERS':\r\n      stateCopy = {\r\n        ...state,\r\n        pageSize: action.count,\r\n      }\r\n      return stateCopy;\r\n    case 'TOGGLE_IS_FETCHING':\r\n      stateCopy = {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      }\r\n      return stateCopy;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const getUsersTC = (pageSize, activePage) => async (dispatch) => {\r\n  dispatch(toggleIfFetchingAC(true));\r\n  let response = await apiGetUsers(pageSize, activePage);\r\n  dispatch(setUsersAC(response.items, response.totalCount));\r\n  dispatch(toggleIfFetchingAC(false));\r\n};\r\n\r\nexport const getActivePageTC = (pageSize, page) => (dispatch) => {\r\n  dispatch(setPageAC(page));\r\n  dispatch(getUsersTC(pageSize, page));\r\n};\r\n\r\nexport const setCountUserTC = (value, activePage) => (dispatch) => {\r\n  dispatch(setCountUsersAC(value));\r\n  dispatch(getUsersTC(value, activePage));\r\n};\r\n\r\nexport const togglefollowUserTC = (id, followed) => async (dispatch) => {\r\n  dispatch(followingInProgressAC(id, true));\r\n  let response = await apitogglefollowUser(id, followed);\r\n  if (response.status === 200) {\r\n    dispatch(toggleFollowAC(id, followed));\r\n    dispatch(followingInProgressAC(id, false));\r\n  }\r\n};\r\n\r\nexport default UsersReducer;","import { act } from \"@testing-library/react\";\r\n\r\nexport const addMessageActionCreator = (text, id) => {\r\n  return {\r\n    type: \"ADD-MESSAGE\",\r\n    newMessage: text,\r\n    id: id\r\n  }\r\n}\r\nexport const addFriendAC = (id, avatar, name) => {\r\n  return {\r\n    type: \"ADD-FRIEND\",\r\n    id,\r\n    avatar,\r\n    name\r\n  }\r\n}\r\nlet initialState = {\r\n  friends: [{id:1, name:'kirill'}\r\n  ],\r\n\r\n  messages: {\r\n    1: [\r\n      { id: 1, name: 'Andrey', text: 'Hello!' },\r\n      { id: 2, name: 'Me', text: 'Hi!' },\r\n      { id: 3, name: 'Andrey', text: 'How are you?' },\r\n      { id: 4, name: 'Me', text: 'I`m ok, and you?' },\r\n      { id: 5, name: 'Andrey', text: 'I`m fine!' }\r\n    ],\r\n    2: [\r\n      { id: 1, name: 'Shasha', text: 'Hello!' },\r\n    ],\r\n    3: [\r\n\r\n    ],\r\n    4: [\r\n\r\n    ],\r\n    5: [\r\n\r\n    ],\r\n    6: [\r\n\r\n    ],\r\n    7: [\r\n\r\n    ],\r\n  }\r\n};\r\n\r\nconst friendsReducer = (state = initialState, action) => {\r\n  let stateCopy;\r\n\r\n  switch (action.type) {\r\n    case \"ADD-MESSAGE\":\r\n      stateCopy = {\r\n        ...state,\r\n        messages: { ...state.messages },\r\n      };\r\n      let newId = stateCopy.messages[action.id].length + 1;\r\n      let newMessage = {\r\n        id: newId,\r\n        name: 'Me',\r\n        text: action.newMessage,\r\n      };\r\n      stateCopy.messages[action.id].push(newMessage);\r\n      return stateCopy;\r\n    case \"ADD-FRIEND\":\r\n      let newFriend = {\r\n        id: action.id,\r\n        name: action.name,\r\n        avatar: action.avatar\r\n      }\r\n      stateCopy = {\r\n        ...state,\r\n      };\r\n      stateCopy.friends.push(newFriend);\r\n      console.log(stateCopy);\r\n      return stateCopy;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default friendsReducer;","import { createSelector } from \"reselect\"\r\n\r\nexport const getUsers = (state) => {\r\n    return state.allUsers.users\r\n}\r\nexport const getUsersSuperCreateSelectorTEST = createSelector(getUsers, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getUsersPageSize = (state) => {\r\n    return state.allUsers.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.allUsers.totalUsersCount\r\n}\r\nexport const getActivePage = (state) => {\r\n    return state.allUsers.activePage\r\n}\r\nexport const getFetching = (state) => {\r\n    return state.allUsers.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.allUsers.followingInProgress\r\n}","import React from 'react';\r\nimport Users from './Users';\r\nimport { connect } from 'react-redux';\r\nimport { setCountUsersAC, getUsersTC, setCountUserTC, getActivePageTC, togglefollowUserTC} from '../../redux/usersReducer';\r\nimport { addFriendAC } from '../../redux/friendsReducer';\r\nimport { getUsers, getFetching, getActivePage, getTotalUsersCount, getUsersPageSize, getFollowingInProgress, getUsersSuperCreateSelectorTEST } from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.pageSize, this.props.activePage);\r\n    }\r\n    getActivePage = (page) => {\r\n        this.props.getActivePage(this.props.pageSize, page);\r\n    }\r\n    setCountUsers = (value) => {\r\n        this.props.setCountUser(value, this.props.activePage);\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <Users getActivePage={this.getActivePage}\r\n                setCountUsers={this.setCountUsers}\r\n                users={this.props.users}\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                isFetching={this.props.isFetching}\r\n                addFriend={this.props.addFriend}\r\n                isProgress={this.props.isProgress}\r\n                togglefollowUser={this.props.togglefollowUser} />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersSuperCreateSelectorTEST(state),\r\n        pageSize: getUsersPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        activePage: getActivePage(state),\r\n        isFetching: getFetching(state),\r\n        isProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\nlet mapDispatchToProps = {\r\n    setCountUsers: setCountUsersAC,\r\n    addFriend: addFriendAC,\r\n    getUsers: getUsersTC,\r\n    getActivePage: getActivePageTC,\r\n    setCountUser: setCountUserTC,\r\n    togglefollowUser: togglefollowUserTC\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer);","import React from 'react';\r\nimport styles from './Dialog.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Dialog = (props) => {\r\n    return (\r\n      <div className={styles.dialog}>\r\n        <img src={props.img} className={styles.avatar}/>\r\n        <div>\r\n          <p className={styles.name}>{props.name}</p>\r\n          <p className={styles.message}>{props.text}</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Dialog;","import React from 'react';\r\nimport styles from './DialogMe.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogMe = (props) => {\r\n    return (\r\n      <div className={styles.dialog}>\r\n        <div>\r\n          <p className={styles.name}>{props.name}</p>\r\n          <p className={styles.message}>{props.text}</p>\r\n        </div>\r\n        <NavLink to='/profile'><img src='https://clraik.com/forum/customavatars/avatar14341_15.gif' className={styles.avatar}/></NavLink>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default DialogMe;","import React from 'react';\r\nimport styles from './DialogueWindow.module.css';\r\nimport Dialog from '../Dialog/Dialog';\r\nimport DialogMe from '../DialogMe/DialogMe';\r\nimport FormAddNewText from '../../../common/forms/AddNewText';\r\nimport { reduxForm } from 'redux-form';\r\n\r\nconst DialogueWindow = (props) => {\r\n    const ContactForm = reduxForm({\r\n        form: 'newMessage'\r\n    })(FormAddNewText);\r\n\r\n    const onSubmit = (formData) => {\r\n        props.addMessage(formData.newMessage, props.id)\r\n\r\n    }\r\n    let dialog = props.messages[props.id].map(item => {\r\n        return (item.name !== 'Me') ?\r\n            <Dialog key={item.id} name={item.name} text={item.text} img={props.img} /> : <DialogMe key={item.id} name={item.name} text={item.text} />\r\n    });\r\n\r\n    return (\r\n        <div className={styles.allMessages}>\r\n            {dialog}\r\n            <div className={styles.chatInput}>\r\n                <ContactForm onSubmit={onSubmit} name={'newMessage'} placeholder={'send new message'} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogueWindow;","import React from 'react';\r\nimport styles from './DialogWithPerson.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nconst DialogWithPerson = (props) => {\r\n  return (\r\n  <li>\r\n    <NavLink activeClassName={styles.active} to={'/messages/'+ props.id}>\r\n      <div className={styles.person}>\r\n        <img className={styles.avatar} src={props.img} alt=\"\"/>\r\n        <span>{props.name}</span>\r\n      </div>\r\n    </NavLink>\r\n  </li>\r\n  )\r\n\r\n}\r\nexport default DialogWithPerson;","import React from 'react';\r\nimport styles from './Messages.module.css';\r\nimport DialogueWindow from './DialogueWindow/DialogueWindow';\r\nimport { Route } from 'react-router-dom';\r\nimport DialogWithPerson from './DialogWithPerson/DialogWithPerson';\r\n\r\n\r\nconst Messages = (props) => {\r\n  \r\n  let interlocutorName = props.friendsPage.friends.map(item => <DialogWithPerson key={item.id} name={item.name} id={item.id} img={item.avatar}/>);\r\n  \r\n  let dialogWindowName = interlocutorName.map((item) => {\r\n    return <Route path={`/messages/${item.props.id}`}><DialogueWindow key={item.props.id} messages={props.friendsPage.messages} \r\n    id={item.props.id} img={item.props.img} addMessage={props.addMessage}/></Route>\r\n  });\r\n\r\n  return (\r\n      <div>\r\n        <h4 className={styles.headline}>Messages</h4>\r\n        <div className={styles.messages}>\r\n            <ul className={styles.dialogs}>\r\n                {interlocutorName}\r\n            </ul>\r\n            {dialogWindowName}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Messages;","import React from 'react';\r\nimport Messages from './Messages';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirectComponent } from '../hoc/withAuthRedirect';\r\nimport { addMessageActionCreator } from '../../redux/friendsReducer';\r\nimport { compose } from 'redux';\r\n\r\nconst MessagesContainer = (props) => {\r\n\r\n  return (\r\n  <Messages {...props}/>\r\n  )\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    friendsPage: state.friendsPage,\r\n  }\r\n}\r\n\r\nlet mapDispatcherToProps = (dispatch) => {\r\n  return {\r\n    addMessage: (text, id) => { dispatch(addMessageActionCreator(text, id)) }\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatcherToProps),\r\n  withAuthRedirectComponent,\r\n)(MessagesContainer);","import React from 'react';\r\nimport styles from './News.module';\r\n\r\nconst News = () => {\r\n    return(\r\n      <div>\r\n        News\r\n      </div>\r\n    )\r\n  }\r\n  \r\nexport default News;","import React from 'react';\r\nimport styles from './Music.module';\r\n\r\nconst Music = () => {\r\n    return(\r\n      <div>\r\n        Music\r\n      </div>\r\n    )\r\n  }\r\n  \r\nexport default Music;","import React from 'react';\r\nimport styles from './Settings.module';\r\n\r\nconst Settings = () => {\r\n    return(\r\n      <div>\r\n        Settings\r\n      </div>\r\n    )\r\n  }\r\n  \r\nexport default Settings;","import React from 'react';\r\nimport styles from './Friend.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Friend = (props) => { \r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <img className={styles.avatar} src={props.avatar}/>\r\n      <p>{props.name}</p>\r\n    </div>\r\n  )\r\n}\r\nexport default Friend;","import React from 'react';\r\nimport styles from './FriendList.module.css'\r\nimport Friend from './Friend/Friend';\r\nimport Slider from \"react-slick\";\r\n\r\nconst FriendList = (props) => {\r\n  let friends = props.friends.map( (item) => {\r\n    return <Friend key={item.id} avatar={item.avatar} name={item.name} />\r\n  });\r\n\r\n  let settings = {\r\n    infinite: true,\r\n    speed: 500,\r\n    autoplay: true,\r\n    autoplaySpeed: 3000,\r\n    slidesToShow: 2,\r\n    slidesToScroll: 1,\r\n    rows: 2\r\n  };  \r\n\r\n  return (\r\n    <div className={styles.friendsList}>\r\n      <p>Friend</p>\r\n        <Slider className={styles.friendsWindow} {...settings}>\r\n          {friends}\r\n        </Slider>\r\n    </div>\r\n  )\r\n}\r\nexport default FriendList;","import React from 'react';\r\nimport styles from './LeftMenu.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\nimport FriendList from './FriendList/FriendList';\r\n\r\n\r\nconst LeftMenu = (props) => {\r\n  return (\r\n    <div className={styles.leftMenu}> \r\n      <ul className={styles.menu}>\r\n        <li><NavLink to='/profile' activeClassName={styles.active}>Profile</NavLink></li>\r\n        <li><NavLink to='/messages' activeClassName={styles.active}>Messages</NavLink></li>\r\n        <li><NavLink to='/news' activeClassName={styles.active}>News</NavLink></li>\r\n        <li><NavLink to='/music' activeClassName={styles.active}>Music</NavLink></li>\r\n        <li><NavLink to='/settings' activeClassName={styles.active}>Settings</NavLink></li>\r\n        <li><NavLink to='/users' activeClassName={styles.active}>Find Users</NavLink></li>\r\n      </ul>\r\n      <FriendList friends={props.friends}/>\r\n    </div>\r\n  )\r\n}\r\nexport default LeftMenu;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport LeftMenu from './LeftMenu';\r\n\r\n\r\n\r\nclass LeftMenuContainer extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <LeftMenu friends={this.props.friends} />\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    friends: state.friendsPage.friends,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(LeftMenuContainer);\r\n\r\n","import React from 'react';\r\nimport styles from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n      <div className={styles.header}>\r\n          <NavLink to='/profile'><img src='http://www.pngall.com/wp-content/uploads/2016/06/Superman-Logo-Free-Download-PNG.png' className={styles.logo}/></NavLink>\r\n          <p>SOCIAL CITE</p>\r\n          {props.isAuth ? <button onClick={props.logoutAccount} className={styles.button}>Exit</button> : <NavLink to={'/login'}><button className={styles.button}>Sign In</button></NavLink> }\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Header;","import { apiAuth, apiLogin, apiLogout } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\nimport { wait } from \"@testing-library/react\";\r\n\r\nexport const setUserDataAC = (data, isAuth) => {\r\n  return {\r\n    type: \"SET_USER_DATA\",\r\n    data,\r\n    isAuth\r\n  }\r\n}\r\nexport const toggleIfFetchingAC = (isFetching) => {\r\n  return {\r\n    type: 'TOGGLE_IS_FETCHING',\r\n    isFetching\r\n  }\r\n}\r\nexport const setLoginAC = (login, password, remember) => {\r\n  return {\r\n    type: 'SET_LOGIN',\r\n    login,\r\n    password,\r\n    remember\r\n  }\r\n}\r\n\r\nlet initialState = {\r\n  email: null,\r\n  id: null,\r\n  login: null,\r\n  isFetching: false,\r\n  isAuth: false,\r\n};\r\n\r\nconst AuthReducer = (state = initialState, action) => {\r\n  let stateCopy;\r\n\r\n  switch (action.type) {\r\n    case \"SET_USER_DATA\":\r\n      stateCopy = {\r\n        ...state,\r\n        ...action.data,\r\n        isAuth: action.isAuth,\r\n      };\r\n      return stateCopy;\r\n    case 'TOGGLE_IS_FETCHING':\r\n      stateCopy = {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      }\r\n      return stateCopy;\r\n    case 'SET_LOGIN':\r\n      stateCopy = {\r\n        ...state,\r\n      };\r\n      return stateCopy;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const authorizationTC = () => async (dispatch) => {\r\n  let response = await apiAuth()\r\n  if (response.resultCode === 0) {\r\n    dispatch(setUserDataAC(response.data, true));\r\n  };\r\n};\r\n\r\n\r\nexport const accountLoginTC = (objData) => async (dispatch) => {\r\n  let response = await apiLogin(objData);\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(authorizationTC());\r\n    alert('–í—ã –≤–æ—à–ª–∏')\r\n  } else {\r\n    dispatch(stopSubmit('login', { _error: response.data.messages[0] }))\r\n  }\r\n}\r\n\r\nexport const logoutAccountTC = () => async (dispatch) => {\r\n  let response = await apiLogout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setUserDataAC(null, false));\r\n    alert('–í—ã –≤—ã—à–ª–∏')\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default AuthReducer;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { authorizationTC, logoutAccountTC, toggleIfFetchingAC } from '../../redux/authReducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return (<Header {...this.props.userInfo} logoutAccount={this.props.logoutAccount}/>)\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    userInfo: state.auth\r\n  }\r\n}\r\nlet mapDispatchToProps = {\r\n  toggleIfFetching: toggleIfFetchingAC,\r\n  logoutAccount: logoutAccountTC\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);","import React from 'react'\r\nimport { Field } from 'redux-form';\r\nimport styles from './Login.module.css'\r\nimport { inputField } from '../../common/forms/formsControls/formsControls';\r\nimport { minLength, maxLength, required, email } from '../../utils/validations/validation';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst minLength6 = minLength(6)\r\nconst maxLength30 = maxLength(30)\r\n\r\nconst Login = (props) => {\r\n    if (props.isAuth == false) {\r\n        return (\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field name={\"email\"} component={inputField} type=\"text\" placeholder=\"email\"\r\n                        validate={[required, email]} />\r\n                </div>\r\n                <div>\r\n                    <Field name=\"password\" component={inputField} type=\"password\" placeholder=\"password\"\r\n                        validate={[required, maxLength30, minLength6]} />\r\n\r\n                </div>\r\n                <div>\r\n                    <Field name=\"remember\" component={inputField} type=\"checkbox\" /> Remember me\r\n                </div>\r\n                {props.error && <div className={styles.error}>\r\n                    {props.error}\r\n                </div>}\r\n                <div>\r\n                    <button type=\"submit\" disabled={props.pristine || props.submitting || props.invalid}>Login</button>\r\n                </div>\r\n            </form>\r\n        )\r\n    } else {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n}\r\n\r\nexport default Login","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm } from 'redux-form';\r\nimport { accountLoginTC } from '../../redux/authReducer';\r\nimport Login from \"./Login\";\r\n\r\nconst ContactForm = reduxForm({\r\n    form: 'login',\r\n})(Login);\r\n\r\nconst LoginContainer = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.accountLogin(formData);\r\n    }\r\n    return (\r\n        <ContactForm onSubmit={onSubmit} isAuth={props.isAuth} />\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\nlet mapDispatchToProps = {\r\n    accountLogin: accountLoginTC\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginContainer);","import { authorizationTC } from \"./authReducer\";\r\n\r\nexport const initializedAC = () => {\r\n  return {\r\n    type: \"SET_INITIALIZED\",\r\n  }\r\n}\r\n\r\nlet initialState = {\r\n  initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  let stateCopy;\r\n\r\n  switch (action.type) {\r\n    case \"SET_INITIALIZED\":\r\n      stateCopy = {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n      return stateCopy;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const initializeAppTC = () => async (dispatch) => {\r\n  await dispatch(authorizationTC());\r\n  dispatch(initializedAC());\r\n};\r\n\r\n\r\nexport default appReducer;","import React, { Suspense } from 'react';\r\nimport { Route, withRouter } from 'react-router-dom';\r\nimport './App.css';\r\nimport Profile–°ontainer from './components/Profile/Profile–°ontainer';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport MessagesContainer from './components/Messages/MessagesContainer';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport LeftMenuContainer from './components/LeftMenu/LeftMenu container';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginContainer from './components/Login/LoginContainer';\r\nimport { connect } from 'react-redux';\r\nimport { initializeAppTC } from './redux/appReducer';\r\nimport { compose } from 'redux';\r\nimport Loading from './common/loading/loading';\r\nimport { lazyImport } from './components/hoc/lazyImport';\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n  render() {\r\n    if (this.props.initialize) {\r\n      return (\r\n        <div className='SNsite'>\r\n          <HeaderContainer />\r\n          <LeftMenuContainer />\r\n          <Route path='/profile/:userId?'><Suspense><Profile–°ontainer /></Suspense></Route>\r\n          <Route path='/messages'><Suspense><MessagesContainer /></Suspense></Route>\r\n          <Route path='/news'><News /></Route>\r\n          <Route path='/music'><Music /></Route>\r\n          <Route path='/settings'><Settings /></Route>\r\n          <Route path='/users'><Suspense><UsersContainer /></Suspense></Route>\r\n          <Route path='/login'><LoginContainer /></Route>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <Loading />\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    initialize: state.appInitial.initialized\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  initializeApp: initializeAppTC,\r\n}\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, mapDispatchToProps))\r\n  (App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport {reducer as formReducer, reducer} from 'redux-form';\r\nimport profileReducer from './profileReducer';\r\nimport friendsReducer from './friendsReducer';\r\nimport usersReducer from './usersReducer';\r\nimport authReducer from './authReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport appReducer from './appReducer';\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  friendsPage: friendsReducer,\r\n  allUsers: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  appInitial : appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers( applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport store from './redux/reduxStore';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n        <App store={store} />\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'));\r\n\r\n\r\nserviceWorker.unregister();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonFollow\":\"Botton_buttonFollow__3G5Ps\",\"buttonUnfollow\":\"Botton_buttonUnfollow__1TS7i\",\"disable\":\"Botton_disable__CRiVQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__3lzcm\",\"name\":\"Dialog_name__1RaE6\",\"message\":\"Dialog_message__34Fpw\",\"avatar\":\"Dialog_avatar__3q9LU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogMe_dialog__QVKRv\",\"name\":\"DialogMe_name__10liz\",\"message\":\"DialogMe_message__1iYah\",\"avatar\":\"DialogMe_avatar__2oxis\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3JxG1\",\"logo\":\"Header_logo__1fq_2\",\"button\":\"Header_button__2GCZR\"};"],"sourceRoot":""}