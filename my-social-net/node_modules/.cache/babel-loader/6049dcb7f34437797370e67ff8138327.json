{"ast":null,"code":"export const addPostActionCreator = text => {\n  return {\n    type: \"ADD-POST\",\n    newText: text\n  };\n};\nexport const addLikeActionCreator = props => {\n  return {\n    type: \"ADD-LIKE\",\n    clickPost: props\n  };\n};\nlet initialState = {\n  posts: [{\n    id: 1,\n    text: 'Hello! How are you?',\n    likes: 3,\n    likeClick: 0\n  }, {\n    id: 2,\n    text: 'My name is Kirill!',\n    likes: 8,\n    likeClick: 0\n  }, {\n    id: 3,\n    text: 'Good life',\n    likes: 5,\n    likeClick: 0\n  }]\n};\n\nconst profileReducer = (state = initialState, action) => {\n  debugger;\n\n  if (action.type === \"ADD-POST\") {\n    let newId = state.posts.length + 1;\n    let newLikes = 0;\n    let newPost = {\n      id: newId,\n      text: action.newText,\n      likes: newLikes,\n      likeClick: 0\n    };\n    state.posts.push(newPost);\n  } else if (action.type === \"ADD-LIKE\") {\n    for (let k of state.posts) {\n      if (k.text == action.clickPost.text) {\n        if (k.likeClick == 0) {\n          k.likes += 1;\n          k.likeClick = 1;\n        } else {\n          k.likes -= 1;\n          k.likeClick = 0;\n        }\n      }\n    }\n  }\n\n  return state;\n};\n\nexport default profileReducer;","map":{"version":3,"sources":["D:/Desktop/Web/4-React-JS/my-social-net/src/profileReducer.js"],"names":["addPostActionCreator","text","type","newText","addLikeActionCreator","props","clickPost","initialState","posts","id","likes","likeClick","profileReducer","state","action","newId","length","newLikes","newPost","push","k"],"mappings":"AAAA,OAAO,MAAMA,oBAAoB,GAAIC,IAAD,IAAU;AAC1C,SAAO;AACLC,IAAAA,IAAI,EAAE,UADD;AAELC,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALI;AAOP,OAAO,MAAMG,oBAAoB,GAAIC,KAAD,IAAW;AAC3C,SAAO;AACLH,IAAAA,IAAI,EAAE,UADD;AAELI,IAAAA,SAAS,EAAED;AAFN,GAAP;AAID,CALI;AAOP,IAAIE,YAAY,GAAG;AACfC,EAAAA,KAAK,EAAE,CACL;AAAEC,IAAAA,EAAE,EAAE,CAAN;AAASR,IAAAA,IAAI,EAAE,qBAAf;AAAsCS,IAAAA,KAAK,EAAE,CAA7C;AAAgDC,IAAAA,SAAS,EAAE;AAA3D,GADK,EAEL;AAAEF,IAAAA,EAAE,EAAE,CAAN;AAASR,IAAAA,IAAI,EAAE,oBAAf;AAAqCS,IAAAA,KAAK,EAAE,CAA5C;AAA+CC,IAAAA,SAAS,EAAE;AAA1D,GAFK,EAGL;AAAEF,IAAAA,EAAE,EAAE,CAAN;AAASR,IAAAA,IAAI,EAAE,WAAf;AAA4BS,IAAAA,KAAK,EAAE,CAAnC;AAAsCC,IAAAA,SAAS,EAAE;AAAjD,GAHK;AADQ,CAAnB;;AAQA,MAAMC,cAAc,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AACrD;;AACA,MAAIA,MAAM,CAACZ,IAAP,KAAgB,UAApB,EAAgC;AAC5B,QAAIa,KAAK,GAAGF,KAAK,CAACL,KAAN,CAAYQ,MAAZ,GAAqB,CAAjC;AACA,QAAIC,QAAQ,GAAG,CAAf;AACA,QAAIC,OAAO,GAAG;AACVT,MAAAA,EAAE,EAAEM,KADM;AAEVd,MAAAA,IAAI,EAAEa,MAAM,CAACX,OAFH;AAGVO,MAAAA,KAAK,EAAEO,QAHG;AAIVN,MAAAA,SAAS,EAAE;AAJD,KAAd;AAMAE,IAAAA,KAAK,CAACL,KAAN,CAAYW,IAAZ,CAAiBD,OAAjB;AACH,GAVD,MAUO,IAAIJ,MAAM,CAACZ,IAAP,KAAgB,UAApB,EAAgC;AACnC,SAAK,IAAIkB,CAAT,IAAcP,KAAK,CAACL,KAApB,EAA2B;AACvB,UAAIY,CAAC,CAACnB,IAAF,IAAUa,MAAM,CAACR,SAAP,CAAiBL,IAA/B,EAAqC;AACjC,YAAImB,CAAC,CAACT,SAAF,IAAe,CAAnB,EAAsB;AAClBS,UAAAA,CAAC,CAACV,KAAF,IAAW,CAAX;AACAU,UAAAA,CAAC,CAACT,SAAF,GAAc,CAAd;AACH,SAHD,MAGO;AACHS,UAAAA,CAAC,CAACV,KAAF,IAAW,CAAX;AACAU,UAAAA,CAAC,CAACT,SAAF,GAAc,CAAd;AACH;AACJ;AACJ;AACJ;;AACL,SAAOE,KAAP;AACC,CA1BD;;AA4BA,eAAeD,cAAf","sourcesContent":["export const addPostActionCreator = (text) => {\r\n    return {\r\n      type: \"ADD-POST\",\r\n      newText: text,\r\n    }\r\n  }\r\n  \r\nexport const addLikeActionCreator = (props) => {\r\n    return {\r\n      type: \"ADD-LIKE\",\r\n      clickPost: props\r\n    }\r\n  }\r\n\r\nlet initialState = {\r\n    posts: [\r\n      { id: 1, text: 'Hello! How are you?', likes: 3, likeClick: 0 },\r\n      { id: 2, text: 'My name is Kirill!', likes: 8, likeClick: 0 },\r\n      { id: 3, text: 'Good life', likes: 5, likeClick: 0 }\r\n    ],\r\n  };\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    debugger;\r\n    if (action.type === \"ADD-POST\") {\r\n        let newId = state.posts.length + 1;\r\n        let newLikes = 0;\r\n        let newPost = {\r\n            id: newId,\r\n            text: action.newText,\r\n            likes: newLikes,\r\n            likeClick: 0\r\n        };\r\n        state.posts.push(newPost);\r\n    } else if (action.type === \"ADD-LIKE\") {\r\n        for (let k of state.posts) {\r\n            if (k.text == action.clickPost.text) {\r\n                if (k.likeClick == 0) {\r\n                    k.likes += 1;\r\n                    k.likeClick = 1;\r\n                } else {\r\n                    k.likes -= 1;\r\n                    k.likeClick = 0;\r\n                }\r\n            }\r\n        }\r\n    }\r\nreturn state;\r\n}\r\n\r\nexport default profileReducer;"]},"metadata":{},"sourceType":"module"}