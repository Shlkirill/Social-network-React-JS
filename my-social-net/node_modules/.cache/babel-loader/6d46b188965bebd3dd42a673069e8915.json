{"ast":null,"code":"import React from 'react';\nlet store = {\n  _state: {\n    profilePage: {\n      posts: [{\n        id: 1,\n        text: 'Hello! How are you?',\n        likes: 3,\n        likeClick: 0\n      }, {\n        id: 2,\n        text: 'My name is Kirill!',\n        likes: 8,\n        likeClick: 0\n      }, {\n        id: 3,\n        text: 'Good life',\n        likes: 5,\n        likeClick: 0\n      }]\n    },\n    friendsPage: {\n      friends: [{\n        id: 1,\n        name: 'Andrey',\n        avatar: 'https://www.meme-arsenal.com/memes/005754c81977199be7a2fb68c8f48107.jpg'\n      }, {\n        id: 2,\n        name: 'Shaha',\n        avatar: 'https://plastok.com.ua/images/reviews/1579759589_inbound5909117393130304794.jpg'\n      }, {\n        id: 3,\n        name: 'Denis',\n        avatar: 'http://discord-me.ru/wp-content/uploads/2017/12/Logotip-Diskorda.png'\n      }, {\n        id: 4,\n        name: 'Vlad',\n        avatar: 'https://pp.userapi.com/c638527/v638527117/264a/6BgztT1ZoOo.jpg'\n      }, {\n        id: 5,\n        name: 'Oleg',\n        avatar: 'https://avatarko.ru/img/kartinka/16/igra_Minecraft_Endermen_15969.jpg'\n      }, {\n        id: 6,\n        name: 'Lera',\n        avatar: 'https://99px.ru/sstorage/1/2012/09/image_11109121919597572619.jpg'\n      }, {\n        id: 7,\n        name: 'Inna',\n        avatar: 'https://image.freepik.com/free-vector/_1284-1932.jpg'\n      }],\n      messages: [{\n        id: 1,\n        name: 'Andrey',\n        text: 'Hello!'\n      }, {\n        id: 2,\n        name: 'Me',\n        text: 'Hi!'\n      }, {\n        id: 3,\n        name: 'Andrey',\n        text: 'How are you?'\n      }, {\n        id: 4,\n        name: 'Me',\n        text: 'I`m ok, and you?'\n      }, {\n        id: 5,\n        name: 'Andrey',\n        text: 'I`m fine!'\n      }]\n    }\n  },\n\n  _rerenderAll() {\n    console.log('Rerender');\n  },\n\n  getState() {\n    return this._state;\n  },\n\n  observer(rerender) {\n    this._rerenderAll = rerender;\n  },\n\n  dispatch(action) {\n    if (action.type === \"ADD-POST\") {\n      let newId = this._state.profilePage.posts.length + 1;\n      let newLikes = 0;\n      let newPost = {\n        id: newId,\n        text: action.newText,\n        likes: newLikes,\n        likeClick: 0\n      };\n\n      this._state.profilePage.posts.push(newPost);\n\n      this._rerenderAll(this._state);\n    } else if (action.type === \"ADD-LIKE\") {\n      for (let k of this._state.profilePage.posts) {\n        if (k.text == action.clickPost.text) {\n          if (k.likeClick == 0) {\n            k.likes += 1;\n            k.likeClick = 1;\n          } else {\n            k.likes -= 1;\n            k.likeClick = 0;\n          }\n\n          this._rerenderAll(this._state);\n        }\n      }\n    }\n  }\n\n};\nexport const addPostActionCreator = text => {\n  return {\n    type: \"ADD-POST\",\n    newText: text\n  };\n};\nexport { store };","map":{"version":3,"sources":["D:/Desktop/Web/4-React-JS/my-social-net/src/state.js"],"names":["React","store","_state","profilePage","posts","id","text","likes","likeClick","friendsPage","friends","name","avatar","messages","_rerenderAll","console","log","getState","observer","rerender","dispatch","action","type","newId","length","newLikes","newPost","newText","push","k","clickPost","addPostActionCreator"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nlet store = {\r\n  _state: {\r\n    profilePage: {\r\n      posts: [\r\n        { id: 1, text: 'Hello! How are you?', likes: 3, likeClick: 0 },\r\n        { id: 2, text: 'My name is Kirill!', likes: 8, likeClick: 0 },\r\n        { id: 3, text: 'Good life', likes: 5, likeClick: 0 }\r\n      ],\r\n    },\r\n\r\n    friendsPage: {\r\n      friends: [\r\n        { id: 1, name: 'Andrey', avatar: 'https://www.meme-arsenal.com/memes/005754c81977199be7a2fb68c8f48107.jpg' },\r\n        { id: 2, name: 'Shaha', avatar: 'https://plastok.com.ua/images/reviews/1579759589_inbound5909117393130304794.jpg' },\r\n        { id: 3, name: 'Denis', avatar: 'http://discord-me.ru/wp-content/uploads/2017/12/Logotip-Diskorda.png' },\r\n        { id: 4, name: 'Vlad', avatar: 'https://pp.userapi.com/c638527/v638527117/264a/6BgztT1ZoOo.jpg' },\r\n        { id: 5, name: 'Oleg', avatar: 'https://avatarko.ru/img/kartinka/16/igra_Minecraft_Endermen_15969.jpg' },\r\n        { id: 6, name: 'Lera', avatar: 'https://99px.ru/sstorage/1/2012/09/image_11109121919597572619.jpg' },\r\n        { id: 7, name: 'Inna', avatar: 'https://image.freepik.com/free-vector/_1284-1932.jpg' }\r\n      ],\r\n\r\n      messages: [\r\n        { id: 1, name: 'Andrey', text: 'Hello!' },\r\n        { id: 2, name: 'Me', text: 'Hi!' },\r\n        { id: 3, name: 'Andrey', text: 'How are you?' },\r\n        { id: 4, name: 'Me', text: 'I`m ok, and you?' },\r\n        { id: 5, name: 'Andrey', text: 'I`m fine!' }\r\n      ],\r\n    }\r\n\r\n  },\r\n  _rerenderAll() {\r\n    console.log('Rerender');\r\n  },\r\n  getState() {\r\n    return this._state;\r\n  },\r\n  observer(rerender) {\r\n    this._rerenderAll = rerender;\r\n  },\r\n  dispatch(action) {\r\n\r\n    if (action.type === \"ADD-POST\") {\r\n      let newId = this._state.profilePage.posts.length + 1;\r\n      let newLikes = 0;\r\n      let newPost = {\r\n        id: newId,\r\n        text: action.newText,\r\n        likes: newLikes,\r\n        likeClick: 0\r\n      };\r\n      this._state.profilePage.posts.push(newPost);\r\n      this._rerenderAll(this._state);\r\n    } else if (action.type === \"ADD-LIKE\") {\r\n      for (let k of this._state.profilePage.posts) {\r\n        if (k.text == action.clickPost.text) {\r\n          if (k.likeClick == 0) {\r\n            k.likes += 1;\r\n            k.likeClick = 1;\r\n          } else {\r\n            k.likes -= 1;\r\n            k.likeClick = 0;\r\n          }\r\n          this._rerenderAll(this._state);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (text) => {\r\n  return {\r\n    type: \"ADD-POST\", \r\n    newText: text,\r\n  }\r\n}\r\n\r\nexport { store };"]},"metadata":{},"sourceType":"module"}