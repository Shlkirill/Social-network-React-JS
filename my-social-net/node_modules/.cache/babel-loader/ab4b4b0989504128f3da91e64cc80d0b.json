{"ast":null,"code":"import { apiAuth } from \"../api/api\";\nexport const setUserDataAC = data => {\n  return {\n    type: \"SET_USER_DATA\",\n    data\n  };\n};\nexport const toogleIfFetchingAC = isFetching => {\n  return {\n    type: 'TOOGLE_IS_FETCHING',\n    isFetching\n  };\n};\nlet initialState = {\n  email: null,\n  id: null,\n  login: null,\n  isFetching: false,\n  isAuth: false\n};\n\nconst AuthReducer = (state = initialState, action) => {\n  let stateCopy;\n\n  switch (action.type) {\n    case \"SET_USER_DATA\":\n      stateCopy = { ...state,\n        ...action.data,\n        isAuth: true\n      };\n      return stateCopy;\n\n    case 'TOOGLE_IS_FETCHING':\n      stateCopy = { ...state,\n        isFetching: action.isFetching\n      };\n      return stateCopy;\n\n    default:\n      return state;\n  }\n};\n\nexport const authorizationTC = () => {\n  return dispatch => {\n    apiAuth().then(response => {\n      if (response.resultCode === 0) {\n        dispatch(setUserDataAC(response.data));\n      }\n\n      ;\n    });\n  };\n};\nexport default AuthReducer;","map":{"version":3,"sources":["D:/Desktop/Web/4-React-JS/my-social-net/src/redux/authReducer.js"],"names":["apiAuth","setUserDataAC","data","type","toogleIfFetchingAC","isFetching","initialState","email","id","login","isAuth","AuthReducer","state","action","stateCopy","authorizationTC","dispatch","then","response","resultCode"],"mappings":"AAAA,SAASA,OAAT,QAAwB,YAAxB;AAEA,OAAO,MAAMC,aAAa,GAAIC,IAAD,IAAU;AACrC,SAAO;AACLC,IAAAA,IAAI,EAAE,eADD;AAELD,IAAAA;AAFK,GAAP;AAID,CALM;AAMP,OAAO,MAAME,kBAAkB,GAAIC,UAAD,IAAgB;AAChD,SAAO;AACLF,IAAAA,IAAI,EAAE,oBADD;AAELE,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,IAAIC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,IADU;AAEjBC,EAAAA,EAAE,EAAE,IAFa;AAGjBC,EAAAA,KAAK,EAAE,IAHU;AAIjBJ,EAAAA,UAAU,EAAE,KAJK;AAKjBK,EAAAA,MAAM,EAAE;AALS,CAAnB;;AAQA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AACpD,MAAIC,SAAJ;;AAEA,UAAQD,MAAM,CAACV,IAAf;AACE,SAAK,eAAL;AACEW,MAAAA,SAAS,GAAG,EACV,GAAGF,KADO;AAEV,WAAGC,MAAM,CAACX,IAFA;AAGVQ,QAAAA,MAAM,EAAE;AAHE,OAAZ;AAKA,aAAOI,SAAP;;AACF,SAAK,oBAAL;AACEA,MAAAA,SAAS,GAAG,EACV,GAAGF,KADO;AAEVP,QAAAA,UAAU,EAAEQ,MAAM,CAACR;AAFT,OAAZ;AAIA,aAAOS,SAAP;;AACF;AACE,aAAOF,KAAP;AAfJ;AAiBD,CApBD;;AAsBA,OAAO,MAAMG,eAAe,GAAG,MAAM;AACnC,SAAQC,QAAD,IAAc;AACnBhB,IAAAA,OAAO,GAAGiB,IAAV,CAAgBC,QAAD,IAAc;AAC3B,UAAIA,QAAQ,CAACC,UAAT,KAAwB,CAA5B,EAA+B;AAC7BH,QAAAA,QAAQ,CAACf,aAAa,CAACiB,QAAQ,CAAChB,IAAV,CAAd,CAAR;AACD;;AAAA;AACF,KAJD;AAKD,GAND;AAOD,CARM;AAYP,eAAeS,WAAf","sourcesContent":["import { apiAuth } from \"../api/api\";\r\n\r\nexport const setUserDataAC = (data) => {\r\n  return {\r\n    type: \"SET_USER_DATA\",\r\n    data,\r\n  }\r\n}\r\nexport const toogleIfFetchingAC = (isFetching) => {\r\n  return {\r\n    type: 'TOOGLE_IS_FETCHING',\r\n    isFetching\r\n  }\r\n}\r\n\r\nlet initialState = {\r\n  email: null,\r\n  id: null,\r\n  login: null,\r\n  isFetching: false,\r\n  isAuth: false,\r\n};\r\n\r\nconst AuthReducer = (state = initialState, action) => {\r\n  let stateCopy;\r\n\r\n  switch (action.type) {\r\n    case \"SET_USER_DATA\":\r\n      stateCopy = {\r\n        ...state,\r\n        ...action.data,\r\n        isAuth: true,\r\n      };\r\n      return stateCopy;\r\n    case 'TOOGLE_IS_FETCHING':\r\n      stateCopy = {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      }\r\n      return stateCopy;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const authorizationTC = () => {\r\n  return (dispatch) => {\r\n    apiAuth().then((response) => {\r\n      if (response.resultCode === 0) {\r\n        dispatch(setUserDataAC(response.data));\r\n      };\r\n    });\r\n  }\r\n};\r\n\r\n\r\n\r\nexport default AuthReducer;"]},"metadata":{},"sourceType":"module"}