{"ast":null,"code":"import { apiAuth, apiLogin } from \"../api/api\";\nexport const setUserDataAC = data => {\n  return {\n    type: \"SET_USER_DATA\",\n    data\n  };\n};\nexport const toogleIfFetchingAC = isFetching => {\n  return {\n    type: 'TOOGLE_IS_FETCHING',\n    isFetching\n  };\n};\nexport const setLoginAC = (login, password, remember) => {\n  return {\n    type: 'SET_LOGIN',\n    login,\n    password,\n    remember\n  };\n};\nlet initialState = {\n  email: null,\n  id: null,\n  login: null,\n  isFetching: false,\n  isAuth: false\n};\n\nconst AuthReducer = (state = initialState, action) => {\n  let stateCopy;\n\n  switch (action.type) {\n    case \"SET_USER_DATA\":\n      stateCopy = { ...state,\n        ...action.data,\n        isAuth: true\n      };\n      return stateCopy;\n\n    case 'TOOGLE_IS_FETCHING':\n      stateCopy = { ...state,\n        isFetching: action.isFetching\n      };\n      return stateCopy;\n\n    case 'SET_LOGIN':\n      console.log(action.login, action.password, action.remember);\n      stateCopy = { ...state\n      };\n      return stateCopy;\n\n    default:\n      return state;\n  }\n};\n\nexport const authorizationTC = () => {\n  return dispatch => {\n    apiAuth().then(response => {\n      if (response.resultCode === 0) {\n        dispatch(setUserDataAC(response.data));\n      }\n\n      ;\n    });\n  };\n};\nexport const setLoginTC = obj => {\n  return dispatch => {\n    apiLogin(obj).then(response => {\n      console.log(response);\n    });\n  };\n};\nexport default AuthReducer;","map":{"version":3,"sources":["C:/Users/Tor/Desktop/Web/4-React-JS/my-social-net/src/redux/authReducer.js"],"names":["apiAuth","apiLogin","setUserDataAC","data","type","toogleIfFetchingAC","isFetching","setLoginAC","login","password","remember","initialState","email","id","isAuth","AuthReducer","state","action","stateCopy","console","log","authorizationTC","dispatch","then","response","resultCode","setLoginTC","obj"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,QAAlB,QAAkC,YAAlC;AAEA,OAAO,MAAMC,aAAa,GAAIC,IAAD,IAAU;AACrC,SAAO;AACLC,IAAAA,IAAI,EAAE,eADD;AAELD,IAAAA;AAFK,GAAP;AAID,CALM;AAMP,OAAO,MAAME,kBAAkB,GAAIC,UAAD,IAAgB;AAChD,SAAO;AACLF,IAAAA,IAAI,EAAE,oBADD;AAELE,IAAAA;AAFK,GAAP;AAID,CALM;AAMP,OAAO,MAAMC,UAAU,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,QAAlB,KAA+B;AACvD,SAAO;AACLN,IAAAA,IAAI,EAAE,WADD;AAELI,IAAAA,KAFK;AAGLC,IAAAA,QAHK;AAILC,IAAAA;AAJK,GAAP;AAMD,CAPM;AASP,IAAIC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,IADU;AAEjBC,EAAAA,EAAE,EAAE,IAFa;AAGjBL,EAAAA,KAAK,EAAE,IAHU;AAIjBF,EAAAA,UAAU,EAAE,KAJK;AAKjBQ,EAAAA,MAAM,EAAE;AALS,CAAnB;;AAQA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGL,YAAT,EAAuBM,MAAvB,KAAkC;AACpD,MAAIC,SAAJ;;AAEA,UAAQD,MAAM,CAACb,IAAf;AACE,SAAK,eAAL;AACEc,MAAAA,SAAS,GAAG,EACV,GAAGF,KADO;AAEV,WAAGC,MAAM,CAACd,IAFA;AAGVW,QAAAA,MAAM,EAAE;AAHE,OAAZ;AAKA,aAAOI,SAAP;;AACF,SAAK,oBAAL;AACEA,MAAAA,SAAS,GAAG,EACV,GAAGF,KADO;AAEVV,QAAAA,UAAU,EAAEW,MAAM,CAACX;AAFT,OAAZ;AAIA,aAAOY,SAAP;;AACF,SAAK,WAAL;AACEC,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACT,KAAnB,EAAyBS,MAAM,CAACR,QAAhC,EAAyCQ,MAAM,CAACP,QAAhD;AACAQ,MAAAA,SAAS,GAAG,EACV,GAAGF;AADO,OAAZ;AAGA,aAAOE,SAAP;;AACF;AACE,aAAOF,KAAP;AArBJ;AAuBD,CA1BD;;AA4BA,OAAO,MAAMK,eAAe,GAAG,MAAM;AACnC,SAAQC,QAAD,IAAc;AACnBtB,IAAAA,OAAO,GAAGuB,IAAV,CAAgBC,QAAD,IAAc;AAC3B,UAAIA,QAAQ,CAACC,UAAT,KAAwB,CAA5B,EAA+B;AAC7BH,QAAAA,QAAQ,CAACpB,aAAa,CAACsB,QAAQ,CAACrB,IAAV,CAAd,CAAR;AACD;;AAAA;AACF,KAJD;AAKD,GAND;AAOD,CARM;AAWP,OAAO,MAAMuB,UAAU,GAAIC,GAAD,IAAS;AACjC,SAAQL,QAAD,IAAc;AACnBrB,IAAAA,QAAQ,CAAC0B,GAAD,CAAR,CAAcJ,IAAd,CAAqBC,QAAD,IAAc;AAChCL,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACD,KAFD;AAGD,GAJD;AAKD,CANM;AASP,eAAeT,WAAf","sourcesContent":["import { apiAuth, apiLogin } from \"../api/api\";\r\n\r\nexport const setUserDataAC = (data) => {\r\n  return {\r\n    type: \"SET_USER_DATA\",\r\n    data,\r\n  }\r\n}\r\nexport const toogleIfFetchingAC = (isFetching) => {\r\n  return {\r\n    type: 'TOOGLE_IS_FETCHING',\r\n    isFetching\r\n  }\r\n}\r\nexport const setLoginAC = (login, password, remember) => {\r\n  return {\r\n    type: 'SET_LOGIN',\r\n    login,\r\n    password,\r\n    remember\r\n  }\r\n}\r\n\r\nlet initialState = {\r\n  email: null,\r\n  id: null,\r\n  login: null,\r\n  isFetching: false,\r\n  isAuth: false,\r\n};\r\n\r\nconst AuthReducer = (state = initialState, action) => {\r\n  let stateCopy;\r\n\r\n  switch (action.type) {\r\n    case \"SET_USER_DATA\":\r\n      stateCopy = {\r\n        ...state,\r\n        ...action.data,\r\n        isAuth: true,\r\n      };\r\n      return stateCopy;\r\n    case 'TOOGLE_IS_FETCHING':\r\n      stateCopy = {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      }\r\n      return stateCopy;\r\n    case 'SET_LOGIN':\r\n      console.log(action.login,action.password,action.remember);\r\n      stateCopy = {\r\n        ...state,\r\n      };\r\n      return stateCopy;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const authorizationTC = () => {\r\n  return (dispatch) => {\r\n    apiAuth().then((response) => {\r\n      if (response.resultCode === 0) {\r\n        dispatch(setUserDataAC(response.data));\r\n      };\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const setLoginTC = (obj) => {\r\n  return (dispatch) => {\r\n    apiLogin(obj).then ((response) => {\r\n      console.log(response)\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default AuthReducer;"]},"metadata":{},"sourceType":"module"}