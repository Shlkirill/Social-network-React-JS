{"ast":null,"code":"export const addPostActionCreator = text => {\n  return {\n    type: \"ADD-POST\",\n    newText: text\n  };\n};\nexport const addLikeActionCreator = props => {\n  return {\n    type: \"ADD-LIKE\",\n    clickPost: props\n  };\n};\nlet initialState = {\n  posts: [{\n    id: 1,\n    text: 'Hello! How are you?',\n    likes: 3,\n    likeClick: 0\n  }, {\n    id: 2,\n    text: 'My name is Kirill!',\n    likes: 8,\n    likeClick: 0\n  }, {\n    id: 3,\n    text: 'Good life',\n    likes: 5,\n    likeClick: 0\n  }]\n};\n\nconst profileReducer = (state = initialState, action) => {\n  let stateCopy = { ...state\n  };\n\n  if (action.type === \"ADD-POST\") {\n    let newId = state.posts.length + 1;\n    let newLikes = 0;\n    let newPost = {\n      id: newId,\n      text: action.newText,\n      likes: newLikes,\n      likeClick: 0\n    };\n    stateCopy.posts = [...state.posts];\n    stateCopy.posts.push(newPost);\n  } else if (action.type === \"ADD-LIKE\") {\n    stateCopy.posts = [...state.posts];\n\n    for (let k of state.posts) {\n      if (k.text == action.clickPost.text) {\n        if (k.likeClick == 0) {\n          k.likes += 1;\n          k.likeClick = 1;\n        } else {\n          k.likes -= 1;\n          k.likeClick = 0;\n        }\n      }\n    }\n  }\n\n  return stateCopy;\n};\n\nexport default profileReducer;","map":{"version":3,"sources":["C:/Users/Tor/Desktop/Web/4-React-JS/my-social-net/src/profileReducer.js"],"names":["addPostActionCreator","text","type","newText","addLikeActionCreator","props","clickPost","initialState","posts","id","likes","likeClick","profileReducer","state","action","stateCopy","newId","length","newLikes","newPost","push","k"],"mappings":"AAAA,OAAO,MAAMA,oBAAoB,GAAIC,IAAD,IAAU;AAC5C,SAAO;AACLC,IAAAA,IAAI,EAAE,UADD;AAELC,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMG,oBAAoB,GAAIC,KAAD,IAAW;AAC7C,SAAO;AACLH,IAAAA,IAAI,EAAE,UADD;AAELI,IAAAA,SAAS,EAAED;AAFN,GAAP;AAID,CALM;AAOP,IAAIE,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,CACL;AAAEC,IAAAA,EAAE,EAAE,CAAN;AAASR,IAAAA,IAAI,EAAE,qBAAf;AAAsCS,IAAAA,KAAK,EAAE,CAA7C;AAAgDC,IAAAA,SAAS,EAAE;AAA3D,GADK,EAEL;AAAEF,IAAAA,EAAE,EAAE,CAAN;AAASR,IAAAA,IAAI,EAAE,oBAAf;AAAqCS,IAAAA,KAAK,EAAE,CAA5C;AAA+CC,IAAAA,SAAS,EAAE;AAA1D,GAFK,EAGL;AAAEF,IAAAA,EAAE,EAAE,CAAN;AAASR,IAAAA,IAAI,EAAE,WAAf;AAA4BS,IAAAA,KAAK,EAAE,CAAnC;AAAsCC,IAAAA,SAAS,EAAE;AAAjD,GAHK;AADU,CAAnB;;AAQA,MAAMC,cAAc,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AACvD,MAAIC,SAAS,GAAG,EAAE,GAAGF;AAAL,GAAhB;;AACA,MAAIC,MAAM,CAACZ,IAAP,KAAgB,UAApB,EAAgC;AAC9B,QAAIc,KAAK,GAAGH,KAAK,CAACL,KAAN,CAAYS,MAAZ,GAAqB,CAAjC;AACA,QAAIC,QAAQ,GAAG,CAAf;AACA,QAAIC,OAAO,GAAG;AACZV,MAAAA,EAAE,EAAEO,KADQ;AAEZf,MAAAA,IAAI,EAAEa,MAAM,CAACX,OAFD;AAGZO,MAAAA,KAAK,EAAEQ,QAHK;AAIZP,MAAAA,SAAS,EAAE;AAJC,KAAd;AAMAI,IAAAA,SAAS,CAACP,KAAV,GAAkB,CAAC,GAAGK,KAAK,CAACL,KAAV,CAAlB;AACAO,IAAAA,SAAS,CAACP,KAAV,CAAgBY,IAAhB,CAAqBD,OAArB;AACD,GAXD,MAWO,IAAIL,MAAM,CAACZ,IAAP,KAAgB,UAApB,EAAgC;AACrCa,IAAAA,SAAS,CAACP,KAAV,GAAkB,CAAC,GAAGK,KAAK,CAACL,KAAV,CAAlB;;AACA,SAAK,IAAIa,CAAT,IAAcR,KAAK,CAACL,KAApB,EAA2B;AACzB,UAAIa,CAAC,CAACpB,IAAF,IAAUa,MAAM,CAACR,SAAP,CAAiBL,IAA/B,EAAqC;AACnC,YAAIoB,CAAC,CAACV,SAAF,IAAe,CAAnB,EAAsB;AACpBU,UAAAA,CAAC,CAACX,KAAF,IAAW,CAAX;AACAW,UAAAA,CAAC,CAACV,SAAF,GAAc,CAAd;AACD,SAHD,MAGO;AACLU,UAAAA,CAAC,CAACX,KAAF,IAAW,CAAX;AACAW,UAAAA,CAAC,CAACV,SAAF,GAAc,CAAd;AACD;AACF;AACF;AACF;;AACD,SAAOI,SAAP;AACD,CA5BD;;AA8BA,eAAeH,cAAf","sourcesContent":["export const addPostActionCreator = (text) => {\r\n  return {\r\n    type: \"ADD-POST\",\r\n    newText: text,\r\n  }\r\n}\r\n\r\nexport const addLikeActionCreator = (props) => {\r\n  return {\r\n    type: \"ADD-LIKE\",\r\n    clickPost: props\r\n  }\r\n}\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, text: 'Hello! How are you?', likes: 3, likeClick: 0 },\r\n    { id: 2, text: 'My name is Kirill!', likes: 8, likeClick: 0 },\r\n    { id: 3, text: 'Good life', likes: 5, likeClick: 0 }\r\n  ],\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  let stateCopy = { ...state };\r\n  if (action.type === \"ADD-POST\") {\r\n    let newId = state.posts.length + 1;\r\n    let newLikes = 0;\r\n    let newPost = {\r\n      id: newId,\r\n      text: action.newText,\r\n      likes: newLikes,\r\n      likeClick: 0\r\n    };\r\n    stateCopy.posts = [...state.posts];\r\n    stateCopy.posts.push(newPost);\r\n  } else if (action.type === \"ADD-LIKE\") {\r\n    stateCopy.posts = [...state.posts];\r\n    for (let k of state.posts) {\r\n      if (k.text == action.clickPost.text) {\r\n        if (k.likeClick == 0) {\r\n          k.likes += 1;\r\n          k.likeClick = 1;\r\n        } else {\r\n          k.likes -= 1;\r\n          k.likeClick = 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return stateCopy;\r\n}\r\n\r\nexport default profileReducer;"]},"metadata":{},"sourceType":"module"}